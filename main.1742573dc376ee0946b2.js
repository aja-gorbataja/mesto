(()=>{"use strict";const e=document.querySelector(".profile__info-edit"),t=document.querySelector(".profile__add"),s=document.querySelector(".form__input-name"),i=document.querySelector(".form__input-description"),n=document.querySelector(".form__input-avatar"),r=document.querySelector(".profile__info-name"),o=document.querySelector(".profile__info-description"),a=document.querySelector(".profile__avatar"),l=document.querySelector(".elements");class h{constructor(e,t,s,i,n,r){this._data=e,this._name=e.name,this._link=e.link,this._cardId=e._id,this._ownerId=e.owner._id,this._userId=r,this._likes=e.likes,this._templateSelector=t,this._handleOpenPopup=s,this._handleDeleteClick=i,this._likeCard=n,this._like=!1,this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".elements__item-img"),this._cardTitle=this._element.querySelector(".elements__item-name"),this._cardLike=this._element.querySelector(".elements__item-like"),this._cardRemove=this._element.querySelector(".elements__item-trash"),this._likesNumber=this._element.querySelector(".elements__item-numbers")}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".elements__item").cloneNode(!0)}generateCard(){return this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._likesNumber.textContent=this._likes.length,this._userId!==this._ownerId&&this._cardRemove.remove(),this._cardId.like?this._cardLike.classList.add("elements__item-like_on"):this._cardLike.classList.remove("elements__item-like_on"),this._element}_setEventListeners(){this._cardImage.addEventListener("click",(()=>{this._handleOpenPopup(this._name,this._link)})),this._cardLike.addEventListener("click",(()=>{this._likeCard(this)})),this._cardRemove.addEventListener("click",(()=>{this._handleDeleteClick(this)}))}get like(){return this._like}toggleLike(){this._like=!this._like}countLikes(e){this._likes=e,this._likesNumber.textContent=this._likes.length}handleLike(){this._cardLike.classList.toggle("elements__item-like_on")}handleTrash(){this._element.remove()}}class u{constructor(e){this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup-close")}openPopup(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}closePopup(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.closePopup()};setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.closePopup()})),this._popup.addEventListener("mousedown",(e=>{e.currentTarget===e.target&&this.closePopup()}))}}class d extends u{constructor(e,{formSubmit:t}){super(e),this._formSubmit=t,this._form=this._popup.querySelector(".popup__form"),this._inputList=this._form.querySelectorAll(".popup__input")}setLoadingText(e){this._popup.querySelector(".popup__button").textContent=e}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._formSubmit(this._getInputValues())})),super.setEventListeners()}closePopup(){super.closePopup(),this._form.reset()}}class c{constructor(e,t){this._config=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}_hideInputError(e){const t=this._formElement.querySelector(`.${e.id}-error`);t.classList.remove(this._config.errorClass),t.textContent="",e.classList.remove(this._config.inputErrorClass)}_showInputError(e){const t=this._formElement.querySelector(`.${e.id}-error`);t.classList.add(this._config.errorClass),t.textContent=e.validationMessage,e.classList.add(this._config.inputErrorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(e){return e.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput(this._inputList)?this.disableButton():(this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}deleteErrors(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}disableButton(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}enableValidation(){this._setEventListeners()}}let _;const p=new class{constructor(e){this.url=e.url,this.headers=e.headers}_handleResponse(e){return e.ok?e.json():Promise.reject(new Error("Произошла ошибка"))}getCards(){return fetch(`${this.url}/cards`,{method:"GET",headers:this.headers}).then((e=>this._handleResponse(e)))}createCard(e){return fetch(`${this.url}/cards`,{method:"POST",headers:this.headers,body:JSON.stringify({name:e.name,link:e.link})}).then((e=>this._handleResponse(e)))}getOwnerInfo(){return fetch(this.url+"/users/me",{method:"GET",headers:this.headers}).then((e=>this._handleResponse(e)))}editProfile(e){return fetch(`${this.url}/users/me`,{method:"PATCH",headers:this.headers,body:JSON.stringify({name:e.name,about:e.about})}).then((e=>this._handleResponse(e)))}editAvatar(e){return fetch(`${this.url}/users/me/avatar`,{headers:this.headers,method:"PATCH",body:JSON.stringify({avatar:e.avatar})}).then((e=>this._handleResponse(e)))}deleteCard(e){return fetch(`${this.url}/cards/${e}`,{method:"DELETE",headers:this.headers}).then((e=>this._handleResponse(e)))}addLike(e){return fetch(`${this.url}/cards/${e}/likes`,{method:"PUT",headers:this.headers}).then((e=>this._handleResponse(e)))}deleteLike(e){return fetch(`${this.url}/cards/${e}/likes`,{method:"DELETE",headers:this.headers}).then((e=>this._handleResponse(e)))}}({url:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{authorization:"a7d13795-b751-49db-aed9-35354fa7b32f","Content-Type":"application/json"}});p.getOwnerInfo().then((e=>{m.setUserInfo(e),m.setUserAvatar(e),m.getOwnerId(e._id),_=e._id})).then((()=>{p.getCards().then((e=>{f.renderItem(e)})).catch((e=>{console.log(e)}))})).catch((e=>{console.log(e)}));const m=new class{constructor({name:e,about:t,avatar:s,_id:i}){this._name=e,this._about=t,this._avatar=s,this._id=i}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent}}setUserInfo(e){this._name.textContent=e.name,this._about.textContent=e.about}setUserAvatar(e){this._avatar.src=e.avatar}getOwnerId(){return this._id}}({name:r,about:o,avatar:a}),f=new class{constructor({renderer:e},t){this._renderer=e,this._container=t}addItem(e){this._container.prepend(e)}renderItem(e){e.forEach((e=>{this._renderer(e)}))}}({renderer:e=>{const t=g(e);f.addItem(t)}},l);function g(e){return new h(e,".item",v,b,E,_).generateCard()}const L=new d(".popup_add",{formSubmit:e=>{L.setLoadingText("Сохранение..."),p.createCard(e).then((e=>{!function(e){const t=g(e);f.addItem(t)}(e)})).catch((e=>{console.log(e)})).finally((()=>{L.setLoadingText("Создать"),L.closePopup()}))}});function v(e,t){y.openPopup(e,t)}function E(e){e.like?p.deleteLike(e._cardId).then((t=>{e.countLikes(t.likes),e.toggleLike(),e.handleLike()})).catch((e=>{console.log(e)})):p.addLike(e._cardId).then((t=>{e.countLikes(t.likes),e.toggleLike(),e.handleLike()})).catch((e=>{console.log(e)}))}L.setEventListeners(),t.addEventListener("click",(()=>{I["form-add"].deleteErrors(),I["form-add"].disableButton(),L.openPopup()}));const k=new class extends u{constructor(e,{formSubmit:t}){super(e),this._formSubmit=t,this._buttonConfirm=this._popup.querySelector(".popup__button")}setLoadingText(e){this._buttonConfirm.textContent=e}setEventListeners(){super.setEventListeners(),this._buttonConfirm.addEventListener("click",(()=>{this._formSubmit(this._card)}))}handleCard(e){this._card=e}}(".popup_ask",{formSubmit:e=>{k.setLoadingText("Удаление..."),p.deleteCard(e._cardId).then((()=>{e.handleTrash()})).catch((e=>{console.log(e)})).finally((()=>{k.setLoadingText("Да"),k.closePopup()}))}});function b(e){k.handleCard(e),k.openPopup()}k.setEventListeners();const S=new d(".popup_edit",{formSubmit:e=>{S.setLoadingText("Сохранение..."),p.editProfile(e).then((e=>{m.setUserInfo(e,{name:s,about:i})})).catch((e=>{console.log(e)})).finally((()=>{S.setLoadingText("Сохранить"),S.closePopup()}))}});e.addEventListener("click",(()=>{S.setInputValues(m.getUserInfo()),I["form-edit"].deleteErrors(),I["form-edit"].disableButton(),S.openPopup()})),S.setEventListeners();const y=new class extends u{constructor(e){super(e),this._imgFull=this._popup.querySelector(".img__full"),this._imgTitle=this._popup.querySelector(".img__title")}openPopup(e,t){this._imgFull.src=t,this._imgFull.alt=e,this._imgTitle.textContent=e,super.openPopup()}}(".popup_img"),C=new d(".popup_avatar",{formSubmit:e=>{C.setLoadingText("Сохранение..."),p.editAvatar(e).then((e=>{m.setUserAvatar(e,{avatar:n})})).catch((e=>{console.log(e)})).finally((()=>{C.setLoadingText("Сохранить"),C.closePopup()}))}});C.setEventListeners(),document.querySelector(".profile__avatar").addEventListener("click",(()=>{C.openPopup()})),y.setEventListeners();const I={};var q;q={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"},Array.from(document.querySelectorAll(q.formSelector)).forEach((e=>{const t=new c(q,e),s=e.getAttribute("name");I[s]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QzFDYixFQUFlWSxHQUFZRCxFQUMzQkEsRUFBVW5FLGtCQUFrQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvZGF0YS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Gb3JtVmFsaWRhdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9wYWdlcy9pbmRleC5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0FwaS5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJleHBvcnQgY29uc3QgYnV0dG9uRWRpdE9wZW4gPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW5mby1lZGl0Jyk7XHJcbmV4cG9ydCBjb25zdCBidXR0b25BZGRPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZCcpO1xyXG5leHBvcnQgY29uc3QgaW5wdXROYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0LW5hbWUnKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0QWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXQtZGVzY3JpcHRpb24nKTtcclxuZXhwb3J0IGNvbnN0IGlucHV0QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0LWF2YXRhcicpO1xyXG5leHBvcnQgY29uc3QgdXNlck5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW5mby1uYW1lJyk7XHJcbmV4cG9ydCBjb25zdCB1c2VyQWJvdXQgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcucHJvZmlsZV9faW5mby1kZXNjcmlwdGlvbicpO1xyXG5leHBvcnQgY29uc3QgdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcclxuZXhwb3J0IGNvbnN0IGNhcmRzQ29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzJyk7XHJcblxyXG5leHBvcnQgY29uc3QgY29uZmlnID0ge1xyXG4gIHVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjAnLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICdhN2QxMzc5NS1iNzUxLTQ5ZGItYWVkOS0zNTM1NGZhN2IzMmYnLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gIH1cclxufVxyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcclxuICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX3Zpc2libGUnXHJcbn07IiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xyXG4gIGNvbnN0cnVjdG9yKGRhdGEsIHRlbXBsYXRlU2VsZWN0b3IsIGhhbmRsZU9wZW5Qb3B1cCwgaGFuZGxlRGVsZXRlQ2xpY2ssIGxpa2VDYXJkLCB1c2VySWQpIHtcclxuICAgIHRoaXMuX2RhdGEgPSBkYXRhO1xyXG4gICAgdGhpcy5fbmFtZSA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2xpbmsgPSBkYXRhLmxpbms7XHJcbiAgICB0aGlzLl9jYXJkSWQgPSBkYXRhLl9pZDtcclxuICAgIHRoaXMuX293bmVySWQgPSBkYXRhLm93bmVyLl9pZDtcclxuICAgIHRoaXMuX3VzZXJJZCA9IHVzZXJJZDtcclxuICAgIHRoaXMuX2xpa2VzID0gZGF0YS5saWtlcztcclxuICAgIHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IgPSB0ZW1wbGF0ZVNlbGVjdG9yO1xyXG4gICAgdGhpcy5faGFuZGxlT3BlblBvcHVwID0gaGFuZGxlT3BlblBvcHVwO1xyXG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcclxuICAgIHRoaXMuX2xpa2VDYXJkID0gbGlrZUNhcmQ7XHJcbiAgICB0aGlzLl9saWtlID0gZmFsc2U7XHJcbiAgICB0aGlzLl9lbGVtZW50ID0gdGhpcy5fZ2V0VGVtcGxhdGUoKTtcclxuICAgIHRoaXMuX2NhcmRJbWFnZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pdGVtLWltZycpO1xyXG4gICAgdGhpcy5fY2FyZFRpdGxlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW0tbmFtZScpO1xyXG4gICAgdGhpcy5fY2FyZExpa2UgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faXRlbS1saWtlJyk7XHJcbiAgICB0aGlzLl9jYXJkUmVtb3ZlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW0tdHJhc2gnKTtcclxuICAgIHRoaXMuX2xpa2VzTnVtYmVyID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW0tbnVtYmVycycpO1xyXG4gIH1cclxuXHJcbiAgX2dldFRlbXBsYXRlKCkge1xyXG4gICAgY29uc3QgY2FyZEVsZW1lbnQgPSBkb2N1bWVudFxyXG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yKVxyXG4gICAgICAuY29udGVudFxyXG4gICAgICAucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pdGVtJylcclxuICAgICAgLmNsb25lTm9kZSh0cnVlKTtcclxuXHJcbiAgICByZXR1cm4gY2FyZEVsZW1lbnQ7XHJcbiAgfVxyXG5cclxuICBnZW5lcmF0ZUNhcmQoKSB7XHJcbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuICAgIHRoaXMuX2NhcmRJbWFnZS5zcmMgPSB0aGlzLl9saW5rO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFsdCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUudGV4dENvbnRlbnQgPSB0aGlzLl9uYW1lO1xyXG4gICAgdGhpcy5fbGlrZXNOdW1iZXIudGV4dENvbnRlbnQgPSB0aGlzLl9saWtlcy5sZW5ndGg7XHJcbiAgICBcclxuICAgIGlmICh0aGlzLl91c2VySWQgIT09IHRoaXMuX293bmVySWQpIHtcclxuICAgICAgdGhpcy5fY2FyZFJlbW92ZS5yZW1vdmUoKVxyXG4gICAgfVxyXG4gICAgXHJcbiAgICBpZiAodGhpcy5fY2FyZElkLmxpa2UpIHtcclxuICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LmFkZCgnZWxlbWVudHNfX2l0ZW0tbGlrZV9vbicpXHJcbiAgICAgIH0gZWxzZSB7XHJcbiAgICAgICAgdGhpcy5fY2FyZExpa2UuY2xhc3NMaXN0LnJlbW92ZSgnZWxlbWVudHNfX2l0ZW0tbGlrZV9vbicpXHJcbiAgICB9XHJcblxyXG4gICAgcmV0dXJuIHRoaXMuX2VsZW1lbnQ7XHJcbiAgfVxyXG4gIFxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2NhcmRJbWFnZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlT3BlblBvcHVwKHRoaXMuX25hbWUsIHRoaXMuX2xpbmspO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZExpa2UuYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2xpa2VDYXJkKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fY2FyZFJlbW92ZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgfVxyXG5cclxuICBnZXQgbGlrZSgpIHtcclxuICAgIHJldHVybiB0aGlzLl9saWtlO1xyXG4gIH1cclxuXHJcbiAgdG9nZ2xlTGlrZSgpIHtcclxuICAgIHRoaXMuX2xpa2UgPSAhdGhpcy5fbGlrZTtcclxuICB9XHJcblxyXG5cclxuICBjb3VudExpa2VzKG5ld0xpa2UpIHtcclxuICAgIHRoaXMuX2xpa2VzID0gbmV3TGlrZTtcclxuICAgIHRoaXMuX2xpa2VzTnVtYmVyLnRleHRDb250ZW50ID0gdGhpcy5fbGlrZXMubGVuZ3RoO1xyXG4gIH1cclxuXHJcbiAgaGFuZGxlTGlrZSgpIHtcclxuICAgIHRoaXMuX2NhcmRMaWtlLmNsYXNzTGlzdC50b2dnbGUoJ2VsZW1lbnRzX19pdGVtLWxpa2Vfb24nKTtcclxuICB9XHJcblxyXG4gIGhhbmRsZVRyYXNoKCkge1xyXG4gICAgdGhpcy5fZWxlbWVudC5yZW1vdmUoKTtcclxuICB9XHJcbn0iLCJcclxuZXhwb3J0IGNsYXNzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xyXG4gICAgdGhpcy5fcG9wdXAgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKHBvcHVwKTtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwLWNsb3NlJyk7XHJcbiAgfVxyXG5cclxuICBvcGVuUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QuYWRkKCdwb3B1cF9vcGVuJyk7XHJcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIHRoaXMuX3BvcHVwLmNsYXNzTGlzdC5yZW1vdmUoJ3BvcHVwX29wZW4nKTtcclxuICAgIGRvY3VtZW50LnJlbW92ZUV2ZW50TGlzdGVuZXIoJ2tleWRvd24nLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XHJcbiAgfVxyXG5cclxuICBfaGFuZGxlRXNjQ2xvc2UgPSAoZXZ0KSA9PiB7XHJcbiAgICBpZiAoZXZ0LmtleSA9PT0gJ0VzY2FwZScpIHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBzZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX2Nsb3NlQnV0dG9uLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLmNsb3NlUG9wdXAoKVxyXG4gICAgfSk7XHJcblxyXG4gICAgdGhpcy5fcG9wdXAuYWRkRXZlbnRMaXN0ZW5lcignbW91c2Vkb3duJywgKGV2dCkgPT4ge1xyXG4gICAgICBpZiAoZXZ0LmN1cnJlbnRUYXJnZXQgPT09IGV2dC50YXJnZXQpIHtcclxuICAgICAgICB0aGlzLmNsb3NlUG9wdXAoKTtcclxuICAgICAgfVxyXG4gICAgfSlcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCwge2Zvcm1TdWJtaXR9KSB7XHJcbiAgICBzdXBlcihwb3B1cCk7XHJcbiAgICB0aGlzLl9mb3JtU3VibWl0ID0gZm9ybVN1Ym1pdDtcclxuICAgIHRoaXMuX2Zvcm0gPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2Zvcm0nKTtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3RvckFsbCgnLnBvcHVwX19pbnB1dCcpO1xyXG4gIH1cclxuICBcclxuICBzZXRMb2FkaW5nVGV4dCh0ZXh0KSB7XHJcbiAgICB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcucG9wdXBfX2J1dHRvbicpLnRleHRDb250ZW50ID0gdGV4dDtcclxuICB9XHJcblxyXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcclxuICAgIHRoaXMuX2Zvcm1WYWx1ZXMgPSB7fTtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKGlucHV0ID0+IHtcclxuICAgICAgdGhpcy5fZm9ybVZhbHVlc1tpbnB1dC5uYW1lXSA9IGlucHV0LnZhbHVlO1xyXG4gICAgfSlcclxuICAgIHJldHVybiB0aGlzLl9mb3JtVmFsdWVzO1xyXG4gIH1cclxuXHJcbiAgc2V0SW5wdXRWYWx1ZXMoZGF0YSkge1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XHJcbiAgICAgIGlucHV0LnZhbHVlID0gZGF0YVtpbnB1dC5uYW1lXTtcclxuICAgIH0pO1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoJ3N1Ym1pdCcsIChldnQpID0+IHtcclxuICAgICAgZXZ0LnByZXZlbnREZWZhdWx0KClcclxuICAgICAgdGhpcy5fZm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcclxuICAgIH0pO1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcblxyXG4gIGNsb3NlUG9wdXAoKSB7XHJcbiAgICBzdXBlci5jbG9zZVBvcHVwKClcclxuICAgIHRoaXMuX2Zvcm0ucmVzZXQoKTtcclxuICB9XHJcbiB9IiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEZvcm1WYWxpZGF0aW9uIHtcclxuICBjb25zdHJ1Y3RvciAoY29uZmlnLCBmb3JtRWxlbWVudCkge1xyXG4gICAgdGhpcy5fY29uZmlnID0gY29uZmlnO1xyXG4gICAgdGhpcy5fZm9ybUVsZW1lbnQgPSBmb3JtRWxlbWVudDtcclxuICAgIHRoaXMuX2lucHV0TGlzdCA9IEFycmF5LmZyb20odGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvckFsbCh0aGlzLl9jb25maWcuaW5wdXRTZWxlY3RvcikpO1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IodGhpcy5fY29uZmlnLnN1Ym1pdEJ1dHRvblNlbGVjdG9yKTtcclxuICB9XHJcblxyXG4gIF9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpIHtcclxuICAgIGNvbnN0IGVycm9yRWxlbWVudCA9IHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3IoYC4ke2lucHV0RWxlbWVudC5pZH0tZXJyb3JgKTtcclxuICAgIGVycm9yRWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5lcnJvckNsYXNzKTtcclxuICAgIGVycm9yRWxlbWVudC50ZXh0Q29udGVudCA9ICcnO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSBpbnB1dEVsZW1lbnQudmFsaWRhdGlvbk1lc3NhZ2U7XHJcbiAgICBpbnB1dEVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5wdXRFcnJvckNsYXNzKTtcclxuICB9XHJcblxyXG4gIF9jaGVja0lucHV0VmFsaWRpdHkoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBpZiAoaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKSB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9zaG93SW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcclxuICAgIHJldHVybiBpbnB1dExpc3Quc29tZSgoaW5wdXRFbGVtZW50KSA9PiAhaW5wdXRFbGVtZW50LnZhbGlkaXR5LnZhbGlkKTtcclxuICB9XHJcblxyXG4gIF90b2dnbGVCdXR0b25TdGF0ZSgpIHtcclxuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRMaXN0KSkge1xyXG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcclxuICAgIH0gZWxzZSB7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSBmYWxzZTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9zZXRFdmVudExpc3RlbmVycygpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIGlucHV0RWxlbWVudC5hZGRFdmVudExpc3RlbmVyKCdpbnB1dCcsICgpID0+IHtcclxuICAgICAgdGhpcy5fY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCk7XHJcbiAgICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB9KTtcclxuICB9KTtcclxuICB9XHJcblxyXG4gIGRlbGV0ZUVycm9ycygpIHtcclxuICAgIHRoaXMuX3RvZ2dsZUJ1dHRvblN0YXRlKCk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaCgoaW5wdXRFbGVtZW50KSA9PiB7XHJcbiAgICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWxlbWVudClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBkaXNhYmxlQnV0dG9uKCkge1xyXG4gICAgdGhpcy5fYnV0dG9uRWxlbWVudC5jbGFzc0xpc3QuYWRkKHRoaXMuX2NvbmZpZy5pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuZGlzYWJsZWQgPSB0cnVlO1xyXG4gIH1cclxuXHJcbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcclxuICAgICAgdGhpcy5fc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICB9XHJcbn1cclxuXHJcbi8vdGhpcy5fZGVsZXRlRXJyb3JzKCk7IiwiXHJcbmltcG9ydCAnLi9pbmRleC5jc3MnO1xyXG5pbXBvcnQgeyBidXR0b25FZGl0T3BlbiwgYnV0dG9uQWRkT3BlbiwgaW5wdXROYW1lLCBpbnB1dEFib3V0LCBpbnB1dEF2YXRhciwgdXNlck5hbWUsIHVzZXJBYm91dCwgdXNlckF2YXRhciwgY2FyZHNDb250YWluZXIsIGNvbmZpZywgdmFsaWRhdGlvbkNvbmZpZyB9IGZyb20gJy4uL3V0aWxzL2RhdGEuanMnO1xyXG5pbXBvcnQgQ2FyZCBmcm9tICcuLi9jb21wb25lbnRzL0NhcmQuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMnO1xyXG5pbXBvcnQgU2VjdGlvbiAgZnJvbSAnLi4vY29tcG9uZW50cy9TZWN0aW9uLmpzJztcclxuaW1wb3J0IEZvcm1WYWxpZGF0aW9uIGZyb20gJy4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRpb24uanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoSW1hZ2UgZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhJbWFnZS5qcyc7XHJcbmltcG9ydCBVc2VySW5mbyAgZnJvbSAnLi4vY29tcG9uZW50cy9Vc2VySW5mby5qcyc7XHJcbmltcG9ydCBBcGkgZnJvbSAnLi4vY29tcG9uZW50cy9BcGkuanMnO1xyXG5pbXBvcnQgUG9wdXBXaXRoQ29uZmlybSBmcm9tICcuLi9jb21wb25lbnRzL1BvcHVwV2l0aENvbmZpcm0uanMnO1xyXG5cclxubGV0IHVzZXJJZDtcclxuXHJcbmNvbnN0IGFwaSA9IG5ldyBBcGkoY29uZmlnKTtcclxuXHJcbiAgYXBpLmdldE93bmVySW5mbygpXHJcbiAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICB1c2VyRWRpdC5zZXRVc2VySW5mbyhkYXRhKTtcclxuICAgICAgdXNlckVkaXQuc2V0VXNlckF2YXRhcihkYXRhKTtcclxuICAgICAgdXNlckVkaXQuZ2V0T3duZXJJZChkYXRhLl9pZClcclxuXHJcbiAgICAgIHVzZXJJZCA9IGRhdGEuX2lkO1xyXG4gICAgfSlcclxuICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgYXBpLmdldENhcmRzKClcclxuICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgY2FyZExpc3QucmVuZGVySXRlbShkYXRhKVxyXG4gICAgICAgIH0pXHJcbiAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgICB9KVxyXG4gICAgfSlcclxuICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgIH0pXHJcblxyXG5jb25zdCB1c2VyRWRpdCA9IG5ldyBVc2VySW5mbyh7bmFtZTogdXNlck5hbWUsIGFib3V0OiB1c2VyQWJvdXQsIGF2YXRhcjogdXNlckF2YXRhcn0pO1xyXG5cclxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XHJcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcclxuICAgIGNhcmRMaXN0LmFkZEl0ZW0obmV3Q2FyZCk7XHJcbiAgfVxyXG59LCBjYXJkc0NvbnRhaW5lcik7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgJy5pdGVtJywgaGFuZGxlT3BlblBvcHVwLCBoYW5kbGVEZWxldGVDbGljaywgbGlrZUNhcmQsIHVzZXJJZCk7XHJcbiAgY29uc3QgY2FyZEVsZW1lbnQgPSBjYXJkLmdlbmVyYXRlQ2FyZCgpO1xyXG4gIHJldHVybiBjYXJkRWxlbWVudDtcclxufVxyXG5cclxuZnVuY3Rpb24gYWRkQ2FyZChpdGVtKSB7XHJcbiAgY29uc3QgbmV3Q2FyZCA9IGNyZWF0ZUNhcmQoaXRlbSk7XHJcbiAgY2FyZExpc3QuYWRkSXRlbShuZXdDYXJkKTtcclxufVxyXG5cclxuY29uc3QgcG9wdXBBZGQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2FkZCcsIHtcclxuICBmb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgcG9wdXBBZGQuc2V0TG9hZGluZ1RleHQoJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyk7XHJcbiAgICBhcGkuY3JlYXRlQ2FyZChkYXRhKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGFkZENhcmQoZGF0YSlcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgIH0pXHJcbiAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICBwb3B1cEFkZC5zZXRMb2FkaW5nVGV4dCgn0KHQvtC30LTQsNGC0YwnKTtcclxuICAgICAgICBwb3B1cEFkZC5jbG9zZVBvcHVwKCk7XHJcbiAgICAgIH0pXHJcbiAgfVxyXG59KTtcclxuXHJcbnBvcHVwQWRkLnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG5idXR0b25BZGRPcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIGZvcm1WYWxpZGF0b3JzWydmb3JtLWFkZCddLmRlbGV0ZUVycm9ycygpO1xyXG4gIGZvcm1WYWxpZGF0b3JzWydmb3JtLWFkZCddLmRpc2FibGVCdXR0b24oKTtcclxuICBwb3B1cEFkZC5vcGVuUG9wdXAoKTtcclxufSk7XHJcblxyXG5mdW5jdGlvbiBoYW5kbGVPcGVuUG9wdXAgKG5hbWUsIGxpbmspIHtcclxuICBwb3B1cEltYWdlLm9wZW5Qb3B1cChuYW1lLCBsaW5rKVxyXG59IFxyXG5cclxuZnVuY3Rpb24gbGlrZUNhcmQgKGNhcmQpIHtcclxuICBpZiAoY2FyZC5saWtlKSB7XHJcbiAgICBhcGkuZGVsZXRlTGlrZShjYXJkLl9jYXJkSWQpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY2FyZC5jb3VudExpa2VzKGRhdGEubGlrZXMpO1xyXG4gICAgICAgIGNhcmQudG9nZ2xlTGlrZSgpO1xyXG4gICAgICAgIGNhcmQuaGFuZGxlTGlrZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgfSlcclxuICB9IGVsc2Uge1xyXG4gICAgYXBpLmFkZExpa2UoY2FyZC5fY2FyZElkKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIGNhcmQuY291bnRMaWtlcyhkYXRhLmxpa2VzKTtcclxuICAgICAgICBjYXJkLnRvZ2dsZUxpa2UoKTtcclxuICAgICAgICBjYXJkLmhhbmRsZUxpa2UoKTtcclxuICAgICAgfSlcclxuICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgIH0pXHJcbiAgfVxyXG59XHJcblxyXG5cclxuY29uc3QgcG9wdXBDb25maXJtID0gbmV3IFBvcHVwV2l0aENvbmZpcm0oJy5wb3B1cF9hc2snLCB7XHJcbiAgZm9ybVN1Ym1pdDogKGNhcmQpID0+IHtcclxuICAgIHBvcHVwQ29uZmlybS5zZXRMb2FkaW5nVGV4dCgn0KPQtNCw0LvQtdC90LjQtS4uLicpO1xyXG4gICAgYXBpLmRlbGV0ZUNhcmQoY2FyZC5fY2FyZElkKVxyXG4gICAgICAudGhlbigoKSA9PiB7XHJcbiAgICAgICAgY2FyZC5oYW5kbGVUcmFzaCgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgfSlcclxuICAgICAgLmZpbmFsbHkoKCkgPT4ge1xyXG4gICAgICAgIHBvcHVwQ29uZmlybS5zZXRMb2FkaW5nVGV4dCgn0JTQsCcpO1xyXG4gICAgICAgIHBvcHVwQ29uZmlybS5jbG9zZVBvcHVwKClcclxuICAgICAgfSlcclxuICB9XHJcbn0pXHJcbiAgXHJcbmZ1bmN0aW9uIGhhbmRsZURlbGV0ZUNsaWNrKGNhcmQpIHtcclxuICBwb3B1cENvbmZpcm0uaGFuZGxlQ2FyZChjYXJkKTtcclxuICBwb3B1cENvbmZpcm0ub3BlblBvcHVwKCk7XHJcbn1cclxuXHJcbiBwb3B1cENvbmZpcm0uc2V0RXZlbnRMaXN0ZW5lcnMoKTsgICAgXHJcblxyXG5cclxuXHJcbmNvbnN0IHBvcHVwRWRpdCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfZWRpdCcsIHtcclxuICAgICAgICBmb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgcG9wdXBFZGl0LnNldExvYWRpbmdUZXh0KCfQodC+0YXRgNCw0L3QtdC90LjQtS4uLicpO1xyXG4gICAgICAgICAgYXBpLmVkaXRQcm9maWxlKGRhdGEpXHJcbiAgICAgICAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgICAgICAgdXNlckVkaXQuc2V0VXNlckluZm8oZGF0YSwge25hbWU6IGlucHV0TmFtZSwgYWJvdXQ6IGlucHV0QWJvdXR9KTtcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICAgICAgLmNhdGNoKChlcnIpID0+IHtcclxuICAgICAgICAgICAgICBjb25zb2xlLmxvZyhlcnIpXHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5maW5hbGx5KCgpID0+IHtcclxuICAgICAgICAgICAgICBwb3B1cEVkaXQuc2V0TG9hZGluZ1RleHQoJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xyXG4gICAgICAgICAgICAgIHBvcHVwRWRpdC5jbG9zZVBvcHVwKClcclxuICAgICAgICAgICAgfSlcclxuICAgICAgICB9fSk7XHJcblxyXG4gICAgICAgIGJ1dHRvbkVkaXRPcGVuLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICAgICAgcG9wdXBFZGl0LnNldElucHV0VmFsdWVzKHVzZXJFZGl0LmdldFVzZXJJbmZvKCkpO1xyXG4gICAgICAgICAgZm9ybVZhbGlkYXRvcnNbJ2Zvcm0tZWRpdCddLmRlbGV0ZUVycm9ycygpO1xyXG4gICAgICAgICAgZm9ybVZhbGlkYXRvcnNbJ2Zvcm0tZWRpdCddLmRpc2FibGVCdXR0b24oKTtcclxuICAgICAgICAgIHBvcHVwRWRpdC5vcGVuUG9wdXAoKTtcclxuICAgICAgICB9KTtcclxuXHJcbiAgICAgICAgcG9wdXBFZGl0LnNldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgICBcclxuXHJcbmNvbnN0IHBvcHVwSW1hZ2UgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoJy5wb3B1cF9pbWcnKTtcclxuXHJcblxyXG5jb25zdCBwb3B1cEF2YXRhciA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfYXZhdGFyJywge1xyXG4gIGZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICBwb3B1cEF2YXRhci5zZXRMb2FkaW5nVGV4dCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICAgIGFwaS5lZGl0QXZhdGFyKGRhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgdXNlckVkaXQuc2V0VXNlckF2YXRhcihkYXRhLCB7YXZhdGFyOiBpbnB1dEF2YXRhcn0pXHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICB9KVxyXG4gICAgICAuZmluYWxseSgoKSA9PiB7XHJcbiAgICAgICAgcG9wdXBBdmF0YXIuc2V0TG9hZGluZ1RleHQoJ9Ch0L7RhdGA0LDQvdC40YLRjCcpO1xyXG4gICAgICAgIHBvcHVwQXZhdGFyLmNsb3NlUG9wdXAoKVxyXG4gICAgICB9KVxyXG4gIH1cclxufSlcclxucG9wdXBBdmF0YXIuc2V0RXZlbnRMaXN0ZW5lcnMoKVxyXG5cclxuZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2F2YXRhcicpLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gIHBvcHVwQXZhdGFyLm9wZW5Qb3B1cCgpO1xyXG59KVxyXG5cclxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XHJcblxyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHZhbGlkYXRpb25Db25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmZvcm1TZWxlY3RvcikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZywgZm9ybUVsZW1lbnQpO1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcclxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcclxuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSlcclxufVxyXG5cclxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcclxuIiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICB0aGlzLnVybCA9IGNvbmZpZy51cmw7XHJcbiAgICB0aGlzLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcclxuICB9XHJcblxyXG4gIF9oYW5kbGVSZXNwb25zZShyZXMpIHtcclxuICAgIGlmIChyZXMub2spIHtcclxuICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XHJcbiAgICB9XHJcbiAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwJykpXHJcbiAgfVxyXG5cclxuICBnZXRDYXJkcygpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0dFVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpKVxyXG4gIH1cclxuXHJcbiAgY3JlYXRlQ2FyZChkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzYCwge1xyXG4gICAgICBtZXRob2Q6ICdQT1NUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7XHJcbiAgICAgICAgbmFtZTogZGF0YS5uYW1lLFxyXG4gICAgICAgIGxpbms6IGRhdGEubGlua1xyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpKVxyXG4gIH1cclxuXHJcbiAgZ2V0T3duZXJJbmZvKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKHRoaXMudXJsICsgYC91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlcykpXHJcbiAgfVxyXG5cclxuICBlZGl0UHJvZmlsZShkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVycyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgIG5hbWU6IGRhdGEubmFtZSxcclxuICAgICAgICBhYm91dDogZGF0YS5hYm91dFxyXG4gICAgICB9KVxyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpKVxyXG4gIH1cclxuICBcclxuICBlZGl0QXZhdGFyKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vdXNlcnMvbWUvYXZhdGFyYCwge1xyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIG1ldGhvZDogJ1BBVENIJyxcclxuICAgICAgYm9keTogSlNPTi5zdHJpbmdpZnkoe1xyXG4gICAgICAgICAgYXZhdGFyOiBkYXRhLmF2YXRhciwgXHJcbiAgICAgIH0pXHJcbiAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpKVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlQ2FyZChfaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHMvJHtfaWR9YCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNcclxuICAgIH0pXHJcbiAgICAudGhlbihyZXMgPT4gdGhpcy5faGFuZGxlUmVzcG9uc2UocmVzKSlcclxuICB9XHJcblxyXG4gIGFkZExpa2UoX2lkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzLyR7X2lkfS9saWtlc2AsIHtcclxuICAgICAgbWV0aG9kOiAnUFVUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4ocmVzID0+IHRoaXMuX2hhbmRsZVJlc3BvbnNlKHJlcykpXHJcbiAgfVxyXG5cclxuICBkZWxldGVMaWtlKF9pZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke19pZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ0RFTEVURScsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKHJlcyA9PiB0aGlzLl9oYW5kbGVSZXNwb25zZShyZXMpKVxyXG4gIH1cclxufSIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XHJcbiAgY29uc3RydWN0b3Ioe25hbWUsIGFib3V0LCBhdmF0YXIsIF9pZH0pIHtcclxuICAgIHRoaXMuX25hbWUgPSBuYW1lO1xyXG4gICAgdGhpcy5fYWJvdXQgPSBhYm91dDtcclxuICAgIHRoaXMuX2F2YXRhciA9IGF2YXRhcjtcclxuICAgIHRoaXMuX2lkID0gX2lkO1xyXG4gIH1cclxuXHJcbiAgZ2V0VXNlckluZm8oKSB7XHJcbiAgIHJldHVybiB7XHJcbiAgICBuYW1lOiB0aGlzLl9uYW1lLnRleHRDb250ZW50LFxyXG4gICAgYWJvdXQ6IHRoaXMuX2Fib3V0LnRleHRDb250ZW50XHJcbiAgfVxyXG4gIH1cclxuXHJcbiAgc2V0VXNlckluZm8oZGF0YSkge1xyXG4gICAgdGhpcy5fbmFtZS50ZXh0Q29udGVudCA9IGRhdGEubmFtZTtcclxuICAgIHRoaXMuX2Fib3V0LnRleHRDb250ZW50ID0gZGF0YS5hYm91dDtcclxuICB9XHJcblxyXG4gIHNldFVzZXJBdmF0YXIoZGF0YSkge1xyXG4gICAgdGhpcy5fYXZhdGFyLnNyYyA9IGRhdGEuYXZhdGFyO1xyXG4gIH1cclxuXHJcbiAgZ2V0T3duZXJJZCgpIHtcclxuICAgIHJldHVybiB0aGlzLl9pZDtcclxuICB9XHJcbn0iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZXIgPSByZW5kZXJlcjtcclxuICAgIHRoaXMuX2NvbnRhaW5lciA9IGNvbnRhaW5lclNlbGVjdG9yO1xyXG4gIH1cclxuXHJcbiAgYWRkSXRlbShlbGVtZW50KSB7XHJcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcclxuICB9XHJcblxyXG4gIHJlbmRlckl0ZW0oaXRlbXMpIHtcclxuICAgIGl0ZW1zLmZvckVhY2goZWxlbWVudCA9PiB7XHJcbiAgICAgIHRoaXMuX3JlbmRlcmVyKGVsZW1lbnQpO1xyXG4gICAgfSlcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gXCIuL1BvcHVwLmpzXCI7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhDb25maXJtIGV4dGVuZHMgUG9wdXAge1xyXG4gIGNvbnN0cnVjdG9yKHBvcHVwLCB7Zm9ybVN1Ym1pdH0pIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2Zvcm1TdWJtaXQgPSBmb3JtU3VibWl0O1xyXG4gICAgdGhpcy5fYnV0dG9uQ29uZmlybSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cF9fYnV0dG9uJyk7XHJcbiAgfVxyXG5cclxuICBzZXRMb2FkaW5nVGV4dCh0ZXh0KSB7XHJcbiAgICB0aGlzLl9idXR0b25Db25maXJtLnRleHRDb250ZW50ID0gdGV4dDtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgc3VwZXIuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuICAgIHRoaXMuX2J1dHRvbkNvbmZpcm0uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1TdWJtaXQodGhpcy5fY2FyZCk7XHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgaGFuZGxlQ2FyZChjYXJkKSB7XHJcbiAgICB0aGlzLl9jYXJkID0gY2FyZDtcclxuICB9XHJcbn0iLCJpbXBvcnQgeyBQb3B1cCB9IGZyb20gJy4vUG9wdXAuanMnO1xyXG5cclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXApIHtcclxuICAgIHN1cGVyKHBvcHVwKTtcclxuICAgIHRoaXMuX2ltZ0Z1bGwgPSB0aGlzLl9wb3B1cC5xdWVyeVNlbGVjdG9yKCcuaW1nX19mdWxsJyk7XHJcbiAgICB0aGlzLl9pbWdUaXRsZSA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5pbWdfX3RpdGxlJyk7XHJcbiAgfVxyXG5cclxuICBvcGVuUG9wdXAobmFtZSwgbGluaykge1xyXG4gICAgdGhpcy5faW1nRnVsbC5zcmMgPSBsaW5rO1xyXG4gICAgdGhpcy5faW1nRnVsbC5hbHQgPSBuYW1lO1xyXG4gICAgdGhpcy5faW1nVGl0bGUudGV4dENvbnRlbnQgPSBuYW1lO1xyXG4gICAgc3VwZXIub3BlblBvcHVwKCk7XHJcbiAgfVxyXG59Il0sIm5hbWVzIjpbImJ1dHRvbkVkaXRPcGVuIiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiYnV0dG9uQWRkT3BlbiIsImlucHV0TmFtZSIsImlucHV0QWJvdXQiLCJpbnB1dEF2YXRhciIsInVzZXJOYW1lIiwidXNlckFib3V0IiwidXNlckF2YXRhciIsImNhcmRzQ29udGFpbmVyIiwiQ2FyZCIsImNvbnN0cnVjdG9yIiwiZGF0YSIsInRlbXBsYXRlU2VsZWN0b3IiLCJoYW5kbGVPcGVuUG9wdXAiLCJoYW5kbGVEZWxldGVDbGljayIsImxpa2VDYXJkIiwidXNlcklkIiwidGhpcyIsIl9kYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRJZCIsIl9pZCIsIl9vd25lcklkIiwib3duZXIiLCJfdXNlcklkIiwiX2xpa2VzIiwibGlrZXMiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVPcGVuUG9wdXAiLCJfaGFuZGxlRGVsZXRlQ2xpY2siLCJfbGlrZUNhcmQiLCJfbGlrZSIsIl9lbGVtZW50IiwiX2dldFRlbXBsYXRlIiwiX2NhcmRJbWFnZSIsIl9jYXJkVGl0bGUiLCJfY2FyZExpa2UiLCJfY2FyZFJlbW92ZSIsIl9saWtlc051bWJlciIsImNvbnRlbnQiLCJjbG9uZU5vZGUiLCJnZW5lcmF0ZUNhcmQiLCJfc2V0RXZlbnRMaXN0ZW5lcnMiLCJzcmMiLCJhbHQiLCJ0ZXh0Q29udGVudCIsImxlbmd0aCIsInJlbW92ZSIsImxpa2UiLCJjbGFzc0xpc3QiLCJhZGQiLCJhZGRFdmVudExpc3RlbmVyIiwidG9nZ2xlTGlrZSIsImNvdW50TGlrZXMiLCJuZXdMaWtlIiwiaGFuZGxlTGlrZSIsInRvZ2dsZSIsImhhbmRsZVRyYXNoIiwiUG9wdXAiLCJwb3B1cCIsIl9wb3B1cCIsIl9jbG9zZUJ1dHRvbiIsIm9wZW5Qb3B1cCIsIl9oYW5kbGVFc2NDbG9zZSIsImNsb3NlUG9wdXAiLCJyZW1vdmVFdmVudExpc3RlbmVyIiwiZXZ0Iiwia2V5Iiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJjdXJyZW50VGFyZ2V0IiwidGFyZ2V0IiwiUG9wdXBXaXRoRm9ybSIsImZvcm1TdWJtaXQiLCJzdXBlciIsIl9mb3JtU3VibWl0IiwiX2Zvcm0iLCJfaW5wdXRMaXN0IiwicXVlcnlTZWxlY3RvckFsbCIsInNldExvYWRpbmdUZXh0IiwidGV4dCIsIl9nZXRJbnB1dFZhbHVlcyIsIl9mb3JtVmFsdWVzIiwiZm9yRWFjaCIsImlucHV0IiwidmFsdWUiLCJzZXRJbnB1dFZhbHVlcyIsInByZXZlbnREZWZhdWx0IiwicmVzZXQiLCJGb3JtVmFsaWRhdGlvbiIsImNvbmZpZyIsImZvcm1FbGVtZW50IiwiX2NvbmZpZyIsIl9mb3JtRWxlbWVudCIsIkFycmF5IiwiZnJvbSIsImlucHV0U2VsZWN0b3IiLCJfYnV0dG9uRWxlbWVudCIsInN1Ym1pdEJ1dHRvblNlbGVjdG9yIiwiX2hpZGVJbnB1dEVycm9yIiwiaW5wdXRFbGVtZW50IiwiZXJyb3JFbGVtZW50IiwiaWQiLCJlcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX3Nob3dJbnB1dEVycm9yIiwidmFsaWRhdGlvbk1lc3NhZ2UiLCJfY2hlY2tJbnB1dFZhbGlkaXR5IiwidmFsaWRpdHkiLCJ2YWxpZCIsIl9oYXNJbnZhbGlkSW5wdXQiLCJpbnB1dExpc3QiLCJzb21lIiwiX3RvZ2dsZUJ1dHRvblN0YXRlIiwiZGlzYWJsZUJ1dHRvbiIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJkaXNhYmxlZCIsImRlbGV0ZUVycm9ycyIsImVuYWJsZVZhbGlkYXRpb24iLCJhcGkiLCJ1cmwiLCJoZWFkZXJzIiwiX2hhbmRsZVJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsIkVycm9yIiwiZ2V0Q2FyZHMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJjcmVhdGVDYXJkIiwiYm9keSIsIkpTT04iLCJzdHJpbmdpZnkiLCJnZXRPd25lckluZm8iLCJlZGl0UHJvZmlsZSIsImFib3V0IiwiZWRpdEF2YXRhciIsImF2YXRhciIsImRlbGV0ZUNhcmQiLCJhZGRMaWtlIiwiZGVsZXRlTGlrZSIsImF1dGhvcml6YXRpb24iLCJ1c2VyRWRpdCIsInNldFVzZXJJbmZvIiwic2V0VXNlckF2YXRhciIsImdldE93bmVySWQiLCJjYXJkTGlzdCIsInJlbmRlckl0ZW0iLCJjYXRjaCIsImVyciIsImNvbnNvbGUiLCJsb2ciLCJfYWJvdXQiLCJfYXZhdGFyIiwiZ2V0VXNlckluZm8iLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsImFkZEl0ZW0iLCJlbGVtZW50IiwicHJlcGVuZCIsIml0ZW1zIiwiaXRlbSIsIm5ld0NhcmQiLCJwb3B1cEFkZCIsImFkZENhcmQiLCJmaW5hbGx5IiwicG9wdXBJbWFnZSIsImNhcmQiLCJmb3JtVmFsaWRhdG9ycyIsInBvcHVwQ29uZmlybSIsIl9idXR0b25Db25maXJtIiwiX2NhcmQiLCJoYW5kbGVDYXJkIiwicG9wdXBFZGl0IiwiX2ltZ0Z1bGwiLCJfaW1nVGl0bGUiLCJwb3B1cEF2YXRhciIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSJdLCJzb3VyY2VSb290IjoiIn0=