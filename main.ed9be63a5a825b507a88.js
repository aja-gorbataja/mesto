(()=>{"use strict";class e{constructor(e,t,s,r,i,n){this._data=e,this._name=e.name,this._link=e.link,this._cardId=e._id,this._ownerId=e.owner._id,this._userId=n,this._likes=e.likes,this._templateSelector=t,this._handleOpenPopup=s,this._deleteCard=r,this._likeCard=i,this._like=!1,this._element=this._getTemplate(),this._cardImage=this._element.querySelector(".elements__item-img"),this._cardTitle=this._element.querySelector(".elements__item-name"),this._cardLike=this._element.querySelector(".elements__item-like"),this._cardRemove=this._element.querySelector(".elements__item-trash"),this._likesNumber=this._element.querySelector(".elements__item-numbers")}_getTemplate(){return document.querySelector(this._templateSelector).content.querySelector(".elements__item").cloneNode(!0)}generateCard(){return this._setEventListeners(),this._cardImage.src=this._link,this._cardImage.alt=this._name,this._cardTitle.textContent=this._name,this._likesNumber.textContent=this._likes.length,this._userId!==this._ownerId&&this._cardRemove.remove(),this._cardId.like?this._cardLike.classList.add("elements__item-like_on"):this._cardLike.classList.remove("elements__item-like_on"),this._element}_setEventListeners(){this._cardImage.addEventListener("click",(()=>{this._handleOpenPopup(this._name,this._link)})),this._cardLike.addEventListener("click",(()=>{this._likeCard(this)})),this._cardRemove.addEventListener("click",(()=>{this._deleteCard(this)}))}get like(){return this._like}toggleLike(){this._like=!this._like}countLikes(e){this._likes=e,this._likesNumber.textContent=this._likes.length}handleLike(){this._cardLike.classList.toggle("elements__item-like_on")}handleTrash(){this._element.remove()}}class t{constructor(e){this._popup=document.querySelector(e),this._closeButton=this._popup.querySelector(".popup-close")}openPopup(){this._popup.classList.add("popup_open"),document.addEventListener("keydown",this._handleEscClose)}closePopup(){this._popup.classList.remove("popup_open"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose=e=>{"Escape"===e.key&&this.closePopup()};setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.closePopup()})),this._popup.addEventListener("mousedown",(e=>{e.currentTarget===e.target&&this.closePopup()}))}}class s extends t{constructor(e,{formSubmit:t}){super(e),this._formSubmit=t,this._form=this._popup.querySelector(".popup__form"),this._inputList=this._form.querySelectorAll(".popup__input")}setLoadingText(e){this._popup.querySelector(".popup__button").textContent=e}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}setInputValues(e){this._inputList.forEach((t=>{t.value=e[t.name]}))}setEventListeners(){this._form.addEventListener("submit",(e=>{e.preventDefault(),this._formSubmit(this._getInputValues()),this.closePopup()})),super.setEventListeners()}closePopup(){super.closePopup(),this._form.reset()}}class r{constructor({data:e,renderer:t},s){this._renderedItems=e,this._renderer=t,this._container=document.querySelector(s)}addItem(e){this._container.prepend(e)}renderItem(){this._renderedItems.forEach((e=>{this._renderer(e)}))}}class i{constructor(e,t){this._config=e,this._formElement=t,this._inputList=Array.from(this._formElement.querySelectorAll(this._config.inputSelector)),this._buttonElement=this._formElement.querySelector(this._config.submitButtonSelector)}_hideInputError(e){const t=this._formElement.querySelector(`.${e.id}-error`);t.classList.remove(this._config.errorClass),t.textContent="",e.classList.remove(this._config.inputErrorClass)}_showInputError(e){const t=this._formElement.querySelector(`.${e.id}-error`);t.classList.add(this._config.errorClass),t.textContent=e.validationMessage,e.classList.add(this._config.inputErrorClass)}_checkInputValidity(e){e.validity.valid?this._hideInputError(e):this._showInputError(e)}_hasInvalidInput(e){return e.some((e=>!e.validity.valid))}_toggleButtonState(){this._hasInvalidInput(this._inputList)?this.disableButton():(this._buttonElement.classList.remove(this._config.inactiveButtonClass),this._buttonElement.disabled=!1)}_setEventListeners(){this._toggleButtonState(),this._inputList.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}deleteErrors(){this._toggleButtonState(),this._inputList.forEach((e=>{this._hideInputError(e)}))}disableButton(){this._buttonElement.classList.add(this._config.inactiveButtonClass),this._buttonElement.disabled=!0}enableValidation(){this._setEventListeners()}}const n=e=>e.ok?e.json():Promise.reject(new Error("Произошла ошибка")),o=document.querySelector(".profile__info-edit"),a=document.querySelector(".profile__add"),l=document.querySelector(".form__input-name"),h=document.querySelector(".form__input-description"),u=document.querySelector(".form__input-avatar"),d=document.querySelector(".profile__info-name"),c=document.querySelector(".profile__info-description"),_=document.querySelector(".profile__avatar");let p;const m=new class{constructor(e){this.url=e.url,this.headers=e.headers}getCards(){return fetch(`${this.url}/cards`,{method:"GET",headers:this.headers}).then(n)}createCard(e){return fetch(`${this.url}/cards`,{method:"POST",headers:this.headers,body:JSON.stringify({name:e.name,link:e.link})}).then(n)}getOwnerInfo(){return fetch(this.url+"/users/me",{method:"GET",headers:this.headers}).then(n)}editProfile(){return fetch(`${this.url}/users/me`,{method:"PATCH",headers:this.headers,body:JSON.stringify({name:data.name,about:data.about})}).then(n)}editAvatar(e){return fetch(`${this.url}/users/me/avatar`,{headers:this.headers,method:"PATCH",body:JSON.stringify({avatar:e.avatar})}).then(n)}deleteCard(e){return fetch(`${this.url}/cards/${e}`,{method:"DELETE",headers:this.headers}).then(n)}addLike(e){return fetch(`${this.url}/cards/${e}/likes`,{method:"PUT",headers:this.headers}).then(n)}deleteLike(e){return fetch(`${this.url}/cards/${e}/likes`,{method:"DELETE",headers:this.headers}).then(n)}}({url:"https://mesto.nomoreparties.co/v1/cohort-60",headers:{authorization:"a7d13795-b751-49db-aed9-35354fa7b32f","Content-Type":"application/json"}});m.getCards().then((e=>{const t=new r({data:e,renderer:e=>{const s=v(e);t.addItem(s)}},".elements");t.renderItem(e)})),m.getOwnerInfo().then((e=>{f.setUserInfo(e),f.setUserAvatar(e),f.getOwnerId(e._id),p=e._id}));const f=new class{constructor({name:e,about:t,avatar:s,_id:r}){this._name=e,this._about=t,this._avatar=s,this._id=r}getUserInfo(){return{name:this._name.textContent,about:this._about.textContent}}setUserInfo(e){this._name.textContent=e.name,this._about.textContent=e.about}setUserAvatar(e){this._avatar.src=e.avatar}getOwnerId(){return this._id}}({name:d,about:c,avatar:_}),g=new r({data:[],renderer:e=>{const t=v(e);g.addItem(t)}},".elements");function v(t){return new e(t,".item",E,S,k,p).generateCard()}const L=new s(".popup_add",{formSubmit:e=>{L.setLoadingText("Сохранение..."),m.createCard(e).then((e=>{!function(e){const t=v(e);g.addItem(t)}(e)})).catch((e=>{console.log(e)}))}});function E(e,t){I.openPopup(e,t)}function k(e){e.like?m.deleteLike(e._cardId).then((t=>{e.countLikes(t.likes),e.toggleLike(),e.handleLike()})).catch((e=>{console.log(e)})):m.addLike(e._cardId).then((t=>{e.countLikes(t.likes),e.toggleLike(),e.handleLike()})).catch((e=>{console.log(e)}))}L.setEventListeners(),a.addEventListener("click",(()=>{q["form-add"].deleteErrors(),q["form-add"].disableButton(),L.openPopup()}));const b=new class extends t{constructor(e,{formSubmit:t}){super(e),this._formSubmit=t,this._buttonConfirm=this._popup.querySelector(".popup__button")}setLoadingText(e){this._buttonConfirm.textContent=e}setEventListeners(){super.setEventListeners(),this._buttonConfirm.addEventListener("click",(()=>{this._formSubmit(this._card),this.closePopup()}))}handleCard(e){this._card=e}}(".popup_ask",{formSubmit:e=>{b.setLoadingText("Удаление..."),m.deleteCard(e._cardId).then((()=>{e.handleTrash()})).catch((e=>{console.log(e)}))}});function S(e){b.handleCard(e),b.openPopup()}b.setEventListeners();const y=new s(".popup_edit",{formSubmit:e=>{y.setLoadingText("Сохранение..."),m.editProfile(e).then((e=>{f.setUserInfo(e,{name:l,about:h})})).catch((e=>{console.log(e)}))}});o.addEventListener("click",(()=>{y.setInputValues(f.getUserInfo()),q["form-edit"].deleteErrors(),q["form-edit"].disableButton(),y.openPopup()})),y.setEventListeners();const I=new class extends t{constructor(e){super(e),this._imgFull=this._popup.querySelector(".img__full"),this._imgTitle=this._popup.querySelector(".img__title")}openPopup(e,t){super.openPopup(),this._imgFull.src=t,this._imgFull.alt=e,this._imgTitle.textContent=e}}(".popup_img"),C=new s(".popup_avatar",{formSubmit:e=>{C.setLoadingText("Сохранение..."),m.editAvatar(e).then((e=>{f.setUserAvatar(e,{avatar:u})})).catch((e=>{console.log(e)}))}});C.setEventListeners(),document.querySelector(".profile__avatar").addEventListener("click",(()=>{C.openPopup()})),I.setEventListeners();const q={};var P;P={formSelector:".popup__form",inputSelector:".popup__input",submitButtonSelector:".popup__button",inactiveButtonClass:"popup__button_disabled",inputErrorClass:"popup__input_type_error",errorClass:"popup__input-error_visible"},Array.from(document.querySelectorAll(P.formSelector)).forEach((e=>{const t=new i(P,e),s=e.getAttribute("name");q[s]=t,t.enableValidation()}))})();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoibWFpbi41ODgwNGE1M2MzZWY0Y2FlNDM4Ny5qcyIsIm1hcHBpbmdzIjoibUJBQ2UsTUFBTUEsRUFDbkJDLFlBQVlDLEVBQU1DLEVBQWtCQyxFQUFpQkMsRUFBWUMsRUFBVUMsR0FDekVDLEtBQUtDLE1BQVFQLEVBQ2JNLEtBQUtFLE1BQVFSLEVBQUtTLEtBQ2xCSCxLQUFLSSxNQUFRVixFQUFLVyxLQUNsQkwsS0FBS00sUUFBVVosRUFBS2EsSUFDcEJQLEtBQUtRLFNBQVdkLEVBQUtlLE1BQU1GLElBQzNCUCxLQUFLVSxRQUFVWCxFQUNmQyxLQUFLVyxPQUFTakIsRUFBS2tCLE1BQ25CWixLQUFLYSxrQkFBb0JsQixFQUN6QkssS0FBS2MsaUJBQW1CbEIsRUFDeEJJLEtBQUtlLFlBQWNsQixFQUNuQkcsS0FBS2dCLFVBQVlsQixFQUNqQkUsS0FBS2lCLE9BQVEsRUFDYmpCLEtBQUtrQixTQUFXbEIsS0FBS21CLGVBQ3JCbkIsS0FBS29CLFdBQWFwQixLQUFLa0IsU0FBU0csY0FBYyx1QkFDOUNyQixLQUFLc0IsV0FBYXRCLEtBQUtrQixTQUFTRyxjQUFjLHdCQUM5Q3JCLEtBQUt1QixVQUFZdkIsS0FBS2tCLFNBQVNHLGNBQWMsd0JBQzdDckIsS0FBS3dCLFlBQWN4QixLQUFLa0IsU0FBU0csY0FBYyx5QkFDL0NyQixLQUFLeUIsYUFBZXpCLEtBQUtrQixTQUFTRyxjQUFjLDBCQUNsRCxDQUVBRixlQU9FLE9BTm9CTyxTQUNqQkwsY0FBY3JCLEtBQUthLG1CQUNuQmMsUUFDQU4sY0FBYyxtQkFDZE8sV0FBVSxFQUdmLENBRUFDLGVBa0JFLE9BakJBN0IsS0FBSzhCLHFCQUVMOUIsS0FBS29CLFdBQVdXLElBQU0vQixLQUFLSSxNQUMzQkosS0FBS29CLFdBQVdZLElBQU1oQyxLQUFLRSxNQUMzQkYsS0FBS3NCLFdBQVdXLFlBQWNqQyxLQUFLRSxNQUNuQ0YsS0FBS3lCLGFBQWFRLFlBQWNqQyxLQUFLVyxPQUFPdUIsT0FFeENsQyxLQUFLVSxVQUFZVixLQUFLUSxVQUN4QlIsS0FBS3dCLFlBQVlXLFNBR2ZuQyxLQUFLTSxRQUFROEIsS0FDZnBDLEtBQUt1QixVQUFVYyxVQUFVQyxJQUFJLDBCQUUzQnRDLEtBQUt1QixVQUFVYyxVQUFVRixPQUFPLDBCQUc3Qm5DLEtBQUtrQixRQUNkLENBRUFZLHFCQUNFOUIsS0FBS29CLFdBQVdtQixpQkFBaUIsU0FBUyxLQUN4Q3ZDLEtBQUtjLGlCQUFpQmQsS0FBS0UsTUFBT0YsS0FBS0ksTUFBTSxJQUcvQ0osS0FBS3VCLFVBQVVnQixpQkFBaUIsU0FBUyxLQUN2Q3ZDLEtBQUtnQixVQUFVaEIsS0FBSyxJQUd0QkEsS0FBS3dCLFlBQVllLGlCQUFpQixTQUFTLEtBQ3pDdkMsS0FBS2UsWUFBWWYsS0FBSyxHQUcxQixDQUVJb0MsV0FDRixPQUFPcEMsS0FBS2lCLEtBQ2QsQ0FFQXVCLGFBQ0V4QyxLQUFLaUIsT0FBU2pCLEtBQUtpQixLQUNyQixDQUdBd0IsV0FBV0MsR0FDVDFDLEtBQUtXLE9BQVMrQixFQUNkMUMsS0FBS3lCLGFBQWFRLFlBQWNqQyxLQUFLVyxPQUFPdUIsTUFDOUMsQ0FFQVMsYUFDRTNDLEtBQUt1QixVQUFVYyxVQUFVTyxPQUFPLHlCQUNsQyxDQUVBQyxjQUNFN0MsS0FBS2tCLFNBQVNpQixRQUNoQixFQ3hGSyxNQUFNVyxFQUNYckQsWUFBWXNELEdBQ1YvQyxLQUFLZ0QsT0FBU3RCLFNBQVNMLGNBQWMwQixHQUNyQy9DLEtBQUtpRCxhQUFlakQsS0FBS2dELE9BQU8zQixjQUFjLGVBQ2hELENBRUE2QixZQUNFbEQsS0FBS2dELE9BQU9YLFVBQVVDLElBQUksY0FDMUJaLFNBQVNhLGlCQUFpQixVQUFXdkMsS0FBS21ELGdCQUM1QyxDQUVBQyxhQUNFcEQsS0FBS2dELE9BQU9YLFVBQVVGLE9BQU8sY0FDN0JULFNBQVMyQixvQkFBb0IsVUFBV3JELEtBQUttRCxnQkFDL0MsQ0FFQUEsZ0JBQW1CRyxJQUNELFdBQVpBLEVBQUlDLEtBQ052RCxLQUFLb0QsWUFDUCxFQUdGSSxvQkFDRXhELEtBQUtpRCxhQUFhVixpQkFBaUIsU0FBUyxLQUMxQ3ZDLEtBQUtvRCxZQUFZLElBR25CcEQsS0FBS2dELE9BQU9ULGlCQUFpQixhQUFjZSxJQUNyQ0EsRUFBSUcsZ0JBQWtCSCxFQUFJSSxRQUM1QjFELEtBQUtvRCxZQUNQLEdBRUosRUMvQmEsTUFBTU8sVUFBc0JiLEVBQ3pDckQsWUFBWXNELEdBQU8sV0FBQ2EsSUFDbEJDLE1BQU1kLEdBQ04vQyxLQUFLOEQsWUFBY0YsRUFDbkI1RCxLQUFLK0QsTUFBUS9ELEtBQUtnRCxPQUFPM0IsY0FBYyxnQkFDdkNyQixLQUFLZ0UsV0FBYWhFLEtBQUsrRCxNQUFNRSxpQkFBaUIsZ0JBQ2hELENBRUFDLGVBQWVDLEdBQ2JuRSxLQUFLZ0QsT0FBTzNCLGNBQWMsa0JBQWtCWSxZQUFja0MsQ0FDNUQsQ0FFQUMsa0JBS0UsT0FKQXBFLEtBQUtxRSxZQUFjLENBQUMsRUFDcEJyRSxLQUFLZ0UsV0FBV00sU0FBUUMsSUFDdEJ2RSxLQUFLcUUsWUFBWUUsRUFBTXBFLE1BQVFvRSxFQUFNQyxLQUFLLElBRXJDeEUsS0FBS3FFLFdBQ2QsQ0FFQUksZUFBZS9FLEdBQ2JNLEtBQUtnRSxXQUFXTSxTQUFTQyxJQUN2QkEsRUFBTUMsTUFBUTlFLEVBQUs2RSxFQUFNcEUsS0FBSyxHQUVsQyxDQUVBcUQsb0JBQ0V4RCxLQUFLK0QsTUFBTXhCLGlCQUFpQixVQUFXZSxJQUNyQ0EsRUFBSW9CLGlCQUNKMUUsS0FBSzhELFlBQVk5RCxLQUFLb0UsbUJBQ3RCcEUsS0FBS29ELFlBQVksSUFFbkJTLE1BQU1MLG1CQUNSLENBRUFKLGFBQ0VTLE1BQU1ULGFBQ05wRCxLQUFLK0QsTUFBTVksT0FDYixFQ3ZDYSxNQUFNQyxFQUNuQm5GLGFBQVksS0FBRUMsRUFBSSxTQUFFbUYsR0FBWUMsR0FDOUI5RSxLQUFLK0UsZUFBaUJyRixFQUN0Qk0sS0FBS2dGLFVBQVlILEVBQ2pCN0UsS0FBS2lGLFdBQWF2RCxTQUFTTCxjQUFjeUQsRUFDM0MsQ0FFQUksUUFBUUMsR0FDTm5GLEtBQUtpRixXQUFXRyxRQUFRRCxFQUMxQixDQUVBRSxhQUNFckYsS0FBSytFLGVBQWVULFNBQVFhLElBQzFCbkYsS0FBS2dGLFVBQVVHLEVBQVEsR0FFM0IsRUNmYSxNQUFNRyxFQUNuQjdGLFlBQWE4RixFQUFRQyxHQUNuQnhGLEtBQUt5RixRQUFVRixFQUNmdkYsS0FBSzBGLGFBQWVGLEVBQ3BCeEYsS0FBS2dFLFdBQWEyQixNQUFNQyxLQUFLNUYsS0FBSzBGLGFBQWF6QixpQkFBaUJqRSxLQUFLeUYsUUFBUUksZ0JBQzdFN0YsS0FBSzhGLGVBQWlCOUYsS0FBSzBGLGFBQWFyRSxjQUFjckIsS0FBS3lGLFFBQVFNLHFCQUNyRSxDQUVBQyxnQkFBZ0JDLEdBQ2QsTUFBTUMsRUFBZWxHLEtBQUswRixhQUFhckUsY0FBZSxJQUFHNEUsRUFBYUUsWUFDdEVELEVBQWE3RCxVQUFVRixPQUFPbkMsS0FBS3lGLFFBQVFXLFlBQzNDRixFQUFhakUsWUFBYyxHQUMzQmdFLEVBQWE1RCxVQUFVRixPQUFPbkMsS0FBS3lGLFFBQVFZLGdCQUM3QyxDQUVBQyxnQkFBZ0JMLEdBQ2QsTUFBTUMsRUFBZWxHLEtBQUswRixhQUFhckUsY0FBZSxJQUFHNEUsRUFBYUUsWUFDdEVELEVBQWE3RCxVQUFVQyxJQUFJdEMsS0FBS3lGLFFBQVFXLFlBQ3hDRixFQUFhakUsWUFBY2dFLEVBQWFNLGtCQUN4Q04sRUFBYTVELFVBQVVDLElBQUl0QyxLQUFLeUYsUUFBUVksZ0JBQzFDLENBRUFHLG9CQUFvQlAsR0FDZEEsRUFBYVEsU0FBU0MsTUFDeEIxRyxLQUFLZ0csZ0JBQWdCQyxHQUVyQmpHLEtBQUtzRyxnQkFBZ0JMLEVBRXpCLENBRUFVLGlCQUFpQkMsR0FDZixPQUFPQSxFQUFVQyxNQUFNWixJQUFrQkEsRUFBYVEsU0FBU0MsT0FDakUsQ0FFQUkscUJBQ005RyxLQUFLMkcsaUJBQWlCM0csS0FBS2dFLFlBQzdCaEUsS0FBSytHLGlCQUVML0csS0FBSzhGLGVBQWV6RCxVQUFVRixPQUFPbkMsS0FBS3lGLFFBQVF1QixxQkFDbERoSCxLQUFLOEYsZUFBZW1CLFVBQVcsRUFFbkMsQ0FFQW5GLHFCQUNFOUIsS0FBSzhHLHFCQUNMOUcsS0FBS2dFLFdBQVdNLFNBQVMyQixJQUN2QkEsRUFBYTFELGlCQUFpQixTQUFTLEtBQ3ZDdkMsS0FBS3dHLG9CQUFvQlAsR0FDekJqRyxLQUFLOEcsb0JBQW9CLEdBQ3pCLEdBRUosQ0FFQUksZUFDRWxILEtBQUs4RyxxQkFDTDlHLEtBQUtnRSxXQUFXTSxTQUFTMkIsSUFDdkJqRyxLQUFLZ0csZ0JBQWdCQyxFQUFhLEdBRXRDLENBRUFjLGdCQUNFL0csS0FBSzhGLGVBQWV6RCxVQUFVQyxJQUFJdEMsS0FBS3lGLFFBQVF1QixxQkFDL0NoSCxLQUFLOEYsZUFBZW1CLFVBQVcsQ0FDakMsQ0FFQUUsbUJBQ0luSCxLQUFLOEIsb0JBQ1QsRUNwRUYsTUFBTXNGLEVBQWtCQyxHQUNsQkEsRUFBSUMsR0FDQ0QsRUFBSUUsT0FFTkMsUUFBUUMsT0FBTyxJQUFJQyxNQUFNLHFCQ1E1QkMsRUFBaUJqRyxTQUFTTCxjQUFjLHVCQUN4Q3VHLEVBQWdCbEcsU0FBU0wsY0FBYyxpQkFDdkN3RyxFQUFZbkcsU0FBU0wsY0FBYyxxQkFDbkN5RyxFQUFhcEcsU0FBU0wsY0FBYyw0QkFDcEMwRyxFQUFjckcsU0FBU0wsY0FBYyx1QkFDckMyRyxFQUFXdEcsU0FBU0wsY0FBYyx1QkFDbEM0RyxFQUFZdkcsU0FBU0wsY0FBYyw4QkFDbkM2RyxFQUFheEcsU0FBU0wsY0FBYyxvQkFFMUMsSUFBSXRCLEVBR0osTUFRTW9JLEVBQU0sSUR6QkcsTUFDYjFJLFlBQVk4RixHQUNWdkYsS0FBS29JLElBQU03QyxFQUFPNkMsSUFDbEJwSSxLQUFLcUksUUFBVTlDLEVBQU84QyxPQUN4QixDQUVBQyxXQUNFLE9BQU9DLE1BQU8sR0FBRXZJLEtBQUtvSSxZQUFhLENBQ2hDSSxPQUFRLE1BQ1JILFFBQVNySSxLQUFLcUksVUFFZkksS0FBS3JCLEVBQ1IsQ0FFQXNCLFdBQVdoSixHQUNULE9BQU82SSxNQUFPLEdBQUV2SSxLQUFLb0ksWUFBYSxDQUNoQ0ksT0FBUSxPQUNSSCxRQUFTckksS0FBS3FJLFFBQ2RNLEtBQU1DLEtBQUtDLFVBQVUsQ0FDbkIxSSxLQUFNVCxFQUFLUyxLQUNYRSxLQUFNWCxFQUFLVyxTQUdkb0ksS0FBS3JCLEVBQ1IsQ0FFQTBCLGVBQ0UsT0FBT1AsTUFBTXZJLEtBQUtvSSxJQUFPLFlBQVksQ0FDbkNJLE9BQVEsTUFDUkgsUUFBU3JJLEtBQUtxSSxVQUVmSSxLQUFLckIsRUFDUixDQUVBMkIsY0FDRSxPQUFPUixNQUFPLEdBQUV2SSxLQUFLb0ksZUFBZ0IsQ0FDbkNJLE9BQVEsUUFDUkgsUUFBU3JJLEtBQUtxSSxRQUNkTSxLQUFNQyxLQUFLQyxVQUFVLENBQ25CMUksS0FBTVQsS0FBS1MsS0FDWDZJLE1BQU90SixLQUFLc0osVUFHZlAsS0FBS3JCLEVBQ1IsQ0FFQTZCLFdBQVd2SixHQUNULE9BQU82SSxNQUFPLEdBQUV2SSxLQUFLb0ksc0JBQXVCLENBQzFDQyxRQUFTckksS0FBS3FJLFFBQ2RHLE9BQVEsUUFDUkcsS0FBTUMsS0FBS0MsVUFBVSxDQUNqQkssT0FBUXhKLEVBQUt3SixXQUdsQlQsS0FBS3JCLEVBQ1IsQ0FFQXZILFdBQVdVLEdBQ1QsT0FBT2dJLE1BQU8sR0FBRXZJLEtBQUtvSSxhQUFhN0gsSUFBTyxDQUN2Q2lJLE9BQVEsU0FDUkgsUUFBU3JJLEtBQUtxSSxVQUVmSSxLQUFLckIsRUFDUixDQUVBK0IsUUFBUTVJLEdBQ04sT0FBT2dJLE1BQU8sR0FBRXZJLEtBQUtvSSxhQUFhN0gsVUFBYSxDQUM3Q2lJLE9BQVEsTUFDUkgsUUFBU3JJLEtBQUtxSSxVQUVmSSxLQUFLckIsRUFDUixDQUVBZ0MsV0FBVzdJLEdBQ1QsT0FBT2dJLE1BQU8sR0FBRXZJLEtBQUtvSSxhQUFhN0gsVUFBYSxDQUM3Q2lJLE9BQVEsU0FDUkgsUUFBU3JJLEtBQUtxSSxVQUVmSSxLQUFLckIsRUFDUixHQzlEYSxDQUNiZ0IsSUFBSyw4Q0FDTEMsUUFBUyxDQUNQZ0IsY0FBZSx1Q0FDZixlQUFnQixzQkFNcEJsQixFQUFJRyxXQUNERyxNQUFNL0ksSUFDTCxNQUFNNEosRUFBVyxJQUFJMUUsRUFBUSxDQUMzQmxGLEtBQU1BLEVBQ05tRixTQUFXMEUsSUFDVCxNQUFNQyxFQUFVZCxFQUFXYSxHQUMzQkQsRUFBU3BFLFFBQVFzRSxFQUFRLEdBRTFCLGFBRUhGLEVBQVNqRSxXQUFXM0YsRUFBSyxJQUczQnlJLEVBQUlXLGVBQ0RMLE1BQU0vSSxJQUNMK0osRUFBU0MsWUFBWWhLLEdBQ3JCK0osRUFBU0UsY0FBY2pLLEdBQ3ZCK0osRUFBU0csV0FBV2xLLEVBQUthLEtBRXpCUixFQUFTTCxFQUFLYSxHQUFHLElBR3ZCLE1BQU1rSixFQUFXLElDdkRGLE1BQ2JoSyxhQUFZLEtBQUNVLEVBQUksTUFBRTZJLEVBQUssT0FBRUUsRUFBTSxJQUFFM0ksSUFDaENQLEtBQUtFLE1BQVFDLEVBQ2JILEtBQUs2SixPQUFTYixFQUNkaEosS0FBSzhKLFFBQVVaLEVBQ2ZsSixLQUFLTyxJQUFNQSxDQUNiLENBRUF3SixjQUNDLE1BQU8sQ0FDTjVKLEtBQU1ILEtBQUtFLE1BQU0rQixZQUNqQitHLE1BQU9oSixLQUFLNkosT0FBTzVILFlBRXJCLENBRUF5SCxZQUFZaEssR0FDVk0sS0FBS0UsTUFBTStCLFlBQWN2QyxFQUFLUyxLQUM5QkgsS0FBSzZKLE9BQU81SCxZQUFjdkMsRUFBS3NKLEtBQ2pDLENBRUFXLGNBQWNqSyxHQUNaTSxLQUFLOEosUUFBUS9ILElBQU1yQyxFQUFLd0osTUFDMUIsQ0FFQVUsYUFDRSxPQUFPNUosS0FBS08sR0FDZCxHRDZCNEIsQ0FBQ0osS0FBTTZILEVBQVVnQixNQUFPZixFQUFXaUIsT0FBUWhCLElBRW5Fb0IsRUFBVyxJQUFJMUUsRUFBUSxDQUMzQmxGLEtBQU0sR0FDTm1GLFNBQVcwRSxJQUNULE1BQU1DLEVBQVVkLEVBQVdhLEdBQzNCRCxFQUFTcEUsUUFBUXNFLEVBQVEsR0FFMUIsYUFFSCxTQUFTZCxFQUFXYSxHQUdsQixPQUZhLElBQUkvSixFQUFLK0osRUFBTSxRQUFTM0osRUFBaUJDLEVBQVlDLEVBQVVDLEdBQ25EOEIsY0FFM0IsQ0FPQSxNQUFNbUksRUFBVyxJQUFJckcsRUFBYyxhQUFjLENBQy9DQyxXQUFhbEUsSUFDWHNLLEVBQVM5RixlQUFlLGlCQUN4QmlFLEVBQUlPLFdBQVdoSixHQUNaK0ksTUFBTS9JLEtBVGIsU0FBaUI2SixHQUNmLE1BQU1DLEVBQVVkLEVBQVdhLEdBQzNCRCxFQUFTcEUsUUFBUXNFLEVBQ25CLENBT1FTLENBQVF2SyxFQUFLLElBRWR3SyxPQUFPQyxJQUNOQyxRQUFRQyxJQUFJRixFQUFJLEdBQ2hCLElBWVIsU0FBU3ZLLEVBQWlCTyxFQUFNRSxHQUM5QmlLLEVBQVdwSCxVQUFVL0MsRUFBTUUsRUFDN0IsQ0FFQSxTQUFTUCxFQUFVeUssR0FDYkEsRUFBS25JLEtBQ1ArRixFQUFJaUIsV0FBV21CLEVBQUtqSyxTQUNqQm1JLE1BQU0vSSxJQUNMNkssRUFBSzlILFdBQVcvQyxFQUFLa0IsT0FDckIySixFQUFLL0gsYUFDTCtILEVBQUs1SCxZQUFZLElBRWxCdUgsT0FBT0MsSUFDTkMsUUFBUUMsSUFBSUYsRUFBSSxJQUdwQmhDLEVBQUlnQixRQUFRb0IsRUFBS2pLLFNBQ2RtSSxNQUFNL0ksSUFDTDZLLEVBQUs5SCxXQUFXL0MsRUFBS2tCLE9BQ3JCMkosRUFBSy9ILGFBQ0wrSCxFQUFLNUgsWUFBWSxJQUVsQnVILE9BQU9DLElBQ05DLFFBQVFDLElBQUlGLEVBQUksR0FHeEIsQ0FsQ0FILEVBQVN4RyxvQkFFVG9FLEVBQWNyRixpQkFBaUIsU0FBUyxLQUN0Q2lJLEVBQWUsWUFBWXRELGVBQzNCc0QsRUFBZSxZQUFZekQsZ0JBQzNCaUQsRUFBUzlHLFdBQVcsSUFnQ3RCLE1BQU11SCxFQUFlLElFN0hOLGNBQStCM0gsRUFDNUNyRCxZQUFZc0QsR0FBTyxXQUFDYSxJQUNsQkMsTUFBTWQsR0FDTi9DLEtBQUs4RCxZQUFjRixFQUNuQjVELEtBQUswSyxlQUFpQjFLLEtBQUtnRCxPQUFPM0IsY0FBYyxpQkFDbEQsQ0FFQTZDLGVBQWVDLEdBQ2JuRSxLQUFLMEssZUFBZXpJLFlBQWNrQyxDQUNwQyxDQUVBWCxvQkFDRUssTUFBTUwsb0JBQ054RCxLQUFLMEssZUFBZW5JLGlCQUFpQixTQUFTLEtBQzVDdkMsS0FBSzhELFlBQVk5RCxLQUFLMkssT0FDdEIzSyxLQUFLb0QsWUFBWSxHQUVyQixDQUVBd0gsV0FBV0wsR0FDVHZLLEtBQUsySyxNQUFRSixDQUNmLEdGd0d3QyxhQUFjLENBQ3REM0csV0FBYTJHLElBQ1hFLEVBQWF2RyxlQUFlLGVBQzVCaUUsRUFBSXRJLFdBQVcwSyxFQUFLakssU0FDakJtSSxNQUFLLEtBQ0o4QixFQUFLMUgsYUFBYSxJQUVuQnFILE9BQU9DLElBQ05DLFFBQVFDLElBQUlGLEVBQUksR0FDaEIsSUFJUixTQUFTdEssRUFBVzBLLEdBQ2xCRSxFQUFhRyxXQUFXTCxHQUN4QkUsRUFBYXZILFdBQ2YsQ0FFQ3VILEVBQWFqSCxvQkFJZCxNQUFNcUgsRUFBWSxJQUFJbEgsRUFBYyxjQUFlLENBQzNDQyxXQUFhbEUsSUFDWG1MLEVBQVUzRyxlQUFlLGlCQUN6QmlFLEVBQUlZLFlBQVlySixHQUNiK0ksTUFBTS9JLElBQ0wrSixFQUFTQyxZQUFZaEssRUFBTSxDQUFDUyxLQUFNMEgsRUFBV21CLE1BQU9sQixHQUFZLElBRWpFb0MsT0FBT0MsSUFDTkMsUUFBUUMsSUFBSUYsRUFBSSxHQUNoQixJQUlOeEMsRUFBZXBGLGlCQUFpQixTQUFTLEtBQ3ZDc0ksRUFBVXBHLGVBQWVnRixFQUFTTSxlQUNsQ1MsRUFBZSxhQUFhdEQsZUFDNUJzRCxFQUFlLGFBQWF6RCxnQkFDNUI4RCxFQUFVM0gsV0FBVyxJQUd2QjJILEVBQVVySCxvQkFHbEIsTUFBTThHLEVBQWEsSUcxS0osY0FBNkJ4SCxFQUMxQ3JELFlBQVlzRCxHQUNWYyxNQUFNZCxHQUNOL0MsS0FBSzhLLFNBQVc5SyxLQUFLZ0QsT0FBTzNCLGNBQWMsY0FDMUNyQixLQUFLK0ssVUFBWS9LLEtBQUtnRCxPQUFPM0IsY0FBYyxjQUM3QyxDQUVBNkIsVUFBVS9DLEVBQU1FLEdBQ2R3RCxNQUFNWCxZQUNObEQsS0FBSzhLLFNBQVMvSSxJQUFNMUIsRUFDcEJMLEtBQUs4SyxTQUFTOUksSUFBTTdCLEVBQ3BCSCxLQUFLK0ssVUFBVTlJLFlBQWM5QixDQUMvQixHSDhKb0MsY0FHaEM2SyxFQUFjLElBQUlySCxFQUFjLGdCQUFpQixDQUNyREMsV0FBYWxFLElBQ1hzTCxFQUFZOUcsZUFBZSxpQkFDM0JpRSxFQUFJYyxXQUFXdkosR0FDWitJLE1BQU0vSSxJQUNMK0osRUFBU0UsY0FBY2pLLEVBQU0sQ0FBQ3dKLE9BQVFuQixHQUFhLElBRXBEbUMsT0FBT0MsSUFDTkMsUUFBUUMsSUFBSUYsRUFBSSxHQUNoQixJQUdSYSxFQUFZeEgsb0JBRVo5QixTQUFTTCxjQUFjLG9CQUFvQmtCLGlCQUFpQixTQUFTLEtBQ25FeUksRUFBWTlILFdBQVcsSUFLekJvSCxFQUFXOUcsb0JBR1gsTUFBTWdILEVBQWlCLENBQUMsRUFFRVMsUUk1S00sQ0FDOUJDLGFBQWMsZUFDZHJGLGNBQWUsZ0JBQ2ZFLHFCQUFzQixpQkFDdEJpQixvQkFBcUIseUJBQ3JCWCxnQkFBaUIsMEJBQ2pCRCxXQUFZLDhCSnVLS1QsTUFBTUMsS0FBS2xFLFNBQVN1QyxpQkFBaUJnSCxFQUFpQkMsZUFDOUQ1RyxTQUFTa0IsSUFDaEIsTUFBTTJGLEVBQVksSUFBSTdGLEVBQWUyRixFQUFrQnpGLEdBQ2pENEYsRUFBVzVGLEVBQVk2RixhQUFhLFFBQzFDYixFQUFlWSxHQUFZRCxFQUMzQkEsRUFBVWhFLGtCQUFrQixHIiwic291cmNlcyI6WyJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9DYXJkLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXAuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvU2VjdGlvbi5qcyIsIndlYnBhY2s6Ly9tZXN0by8uL3NyYy9jb21wb25lbnRzL0Zvcm1WYWxpZGF0aW9uLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL3BhZ2VzL2luZGV4LmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvVXNlckluZm8uanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzIiwid2VicGFjazovL21lc3RvLy4vc3JjL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMiLCJ3ZWJwYWNrOi8vbWVzdG8vLi9zcmMvdXRpbHMvZGF0YS5qcyJdLCJzb3VyY2VzQ29udGVudCI6WyJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgQ2FyZCB7XHJcbiAgY29uc3RydWN0b3IoZGF0YSwgdGVtcGxhdGVTZWxlY3RvciwgaGFuZGxlT3BlblBvcHVwLCBkZWxldGVDYXJkLCBsaWtlQ2FyZCwgdXNlcklkKSB7XHJcbiAgICB0aGlzLl9kYXRhID0gZGF0YTtcclxuICAgIHRoaXMuX25hbWUgPSBkYXRhLm5hbWU7XHJcbiAgICB0aGlzLl9saW5rID0gZGF0YS5saW5rO1xyXG4gICAgdGhpcy5fY2FyZElkID0gZGF0YS5faWQ7XHJcbiAgICB0aGlzLl9vd25lcklkID0gZGF0YS5vd25lci5faWQ7XHJcbiAgICB0aGlzLl91c2VySWQgPSB1c2VySWQ7XHJcbiAgICB0aGlzLl9saWtlcyA9IGRhdGEubGlrZXM7XHJcbiAgICB0aGlzLl90ZW1wbGF0ZVNlbGVjdG9yID0gdGVtcGxhdGVTZWxlY3RvcjtcclxuICAgIHRoaXMuX2hhbmRsZU9wZW5Qb3B1cCA9IGhhbmRsZU9wZW5Qb3B1cDtcclxuICAgIHRoaXMuX2RlbGV0ZUNhcmQgPSBkZWxldGVDYXJkO1xyXG4gICAgdGhpcy5fbGlrZUNhcmQgPSBsaWtlQ2FyZDtcclxuICAgIHRoaXMuX2xpa2UgPSBmYWxzZTtcclxuICAgIHRoaXMuX2VsZW1lbnQgPSB0aGlzLl9nZXRUZW1wbGF0ZSgpO1xyXG4gICAgdGhpcy5fY2FyZEltYWdlID0gdGhpcy5fZWxlbWVudC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW0taW1nJyk7XHJcbiAgICB0aGlzLl9jYXJkVGl0bGUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faXRlbS1uYW1lJyk7XHJcbiAgICB0aGlzLl9jYXJkTGlrZSA9IHRoaXMuX2VsZW1lbnQucXVlcnlTZWxlY3RvcignLmVsZW1lbnRzX19pdGVtLWxpa2UnKTtcclxuICAgIHRoaXMuX2NhcmRSZW1vdmUgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faXRlbS10cmFzaCcpO1xyXG4gICAgdGhpcy5fbGlrZXNOdW1iZXIgPSB0aGlzLl9lbGVtZW50LnF1ZXJ5U2VsZWN0b3IoJy5lbGVtZW50c19faXRlbS1udW1iZXJzJyk7XHJcbiAgfVxyXG5cclxuICBfZ2V0VGVtcGxhdGUoKSB7XHJcbiAgICBjb25zdCBjYXJkRWxlbWVudCA9IGRvY3VtZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKHRoaXMuX3RlbXBsYXRlU2VsZWN0b3IpXHJcbiAgICAgIC5jb250ZW50XHJcbiAgICAgIC5xdWVyeVNlbGVjdG9yKCcuZWxlbWVudHNfX2l0ZW0nKVxyXG4gICAgICAuY2xvbmVOb2RlKHRydWUpO1xyXG5cclxuICAgIHJldHVybiBjYXJkRWxlbWVudDtcclxuICB9XHJcblxyXG4gIGdlbmVyYXRlQ2FyZCgpIHtcclxuICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcblxyXG4gICAgdGhpcy5fY2FyZEltYWdlLnNyYyA9IHRoaXMuX2xpbms7XHJcbiAgICB0aGlzLl9jYXJkSW1hZ2UuYWx0ID0gdGhpcy5fbmFtZTtcclxuICAgIHRoaXMuX2NhcmRUaXRsZS50ZXh0Q29udGVudCA9IHRoaXMuX25hbWU7XHJcbiAgICB0aGlzLl9saWtlc051bWJlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICAgIFxyXG4gICAgaWYgKHRoaXMuX3VzZXJJZCAhPT0gdGhpcy5fb3duZXJJZCkge1xyXG4gICAgICB0aGlzLl9jYXJkUmVtb3ZlLnJlbW92ZSgpXHJcbiAgICB9XHJcbiAgICBcclxuICAgIGlmICh0aGlzLl9jYXJkSWQubGlrZSkge1xyXG4gICAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QuYWRkKCdlbGVtZW50c19faXRlbS1saWtlX29uJylcclxuICAgICAgfSBlbHNlIHtcclxuICAgICAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QucmVtb3ZlKCdlbGVtZW50c19faXRlbS1saWtlX29uJylcclxuICAgIH1cclxuXHJcbiAgICByZXR1cm4gdGhpcy5fZWxlbWVudDtcclxuICB9XHJcbiAgXHJcbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fY2FyZEltYWdlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9oYW5kbGVPcGVuUG9wdXAodGhpcy5fbmFtZSwgdGhpcy5fbGluayk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkTGlrZS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5fbGlrZUNhcmQodGhpcyk7XHJcbiAgICB9KTtcclxuXHJcbiAgICB0aGlzLl9jYXJkUmVtb3ZlLmFkZEV2ZW50TGlzdGVuZXIoJ2NsaWNrJywgKCkgPT4ge1xyXG4gICAgICB0aGlzLl9kZWxldGVDYXJkKHRoaXMpO1xyXG4gICAgfSk7XHJcblxyXG4gIH1cclxuXHJcbiAgZ2V0IGxpa2UoKSB7XHJcbiAgICByZXR1cm4gdGhpcy5fbGlrZTtcclxuICB9XHJcblxyXG4gIHRvZ2dsZUxpa2UoKSB7XHJcbiAgICB0aGlzLl9saWtlID0gIXRoaXMuX2xpa2U7XHJcbiAgfVxyXG5cclxuXHJcbiAgY291bnRMaWtlcyhuZXdMaWtlKSB7XHJcbiAgICB0aGlzLl9saWtlcyA9IG5ld0xpa2U7XHJcbiAgICB0aGlzLl9saWtlc051bWJlci50ZXh0Q29udGVudCA9IHRoaXMuX2xpa2VzLmxlbmd0aDtcclxuICB9XHJcblxyXG4gIGhhbmRsZUxpa2UoKSB7XHJcbiAgICB0aGlzLl9jYXJkTGlrZS5jbGFzc0xpc3QudG9nZ2xlKCdlbGVtZW50c19faXRlbS1saWtlX29uJyk7XHJcbiAgfVxyXG5cclxuICBoYW5kbGVUcmFzaCgpIHtcclxuICAgIHRoaXMuX2VsZW1lbnQucmVtb3ZlKCk7XHJcbiAgfVxyXG59IiwiXHJcbmV4cG9ydCBjbGFzcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXApIHtcclxuICAgIHRoaXMuX3BvcHVwID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cCk7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbiA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5wb3B1cC1jbG9zZScpO1xyXG4gIH1cclxuXHJcbiAgb3BlblBvcHVwKCkge1xyXG4gICAgdGhpcy5fcG9wdXAuY2xhc3NMaXN0LmFkZCgncG9wdXBfb3BlbicpO1xyXG4gICAgZG9jdW1lbnQuYWRkRXZlbnRMaXN0ZW5lcigna2V5ZG93bicsIHRoaXMuX2hhbmRsZUVzY0Nsb3NlKTtcclxuICB9XHJcblxyXG4gIGNsb3NlUG9wdXAoKSB7XHJcbiAgICB0aGlzLl9wb3B1cC5jbGFzc0xpc3QucmVtb3ZlKCdwb3B1cF9vcGVuJyk7XHJcbiAgICBkb2N1bWVudC5yZW1vdmVFdmVudExpc3RlbmVyKCdrZXlkb3duJywgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xyXG4gIH1cclxuXHJcbiAgX2hhbmRsZUVzY0Nsb3NlID0gKGV2dCkgPT4ge1xyXG4gICAgaWYgKGV2dC5rZXkgPT09ICdFc2NhcGUnKSB7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfVxyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKClcclxuICAgIH0pO1xyXG5cclxuICAgIHRoaXMuX3BvcHVwLmFkZEV2ZW50TGlzdGVuZXIoJ21vdXNlZG93bicsIChldnQpID0+IHtcclxuICAgICAgaWYgKGV2dC5jdXJyZW50VGFyZ2V0ID09PSBldnQudGFyZ2V0KSB7XHJcbiAgICAgICAgdGhpcy5jbG9zZVBvcHVwKCk7XHJcbiAgICAgIH1cclxuICAgIH0pXHJcbiAgfVxyXG59IiwiaW1wb3J0IHsgUG9wdXAgfSBmcm9tICcuL1BvcHVwLmpzJztcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aEZvcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXAsIHtmb3JtU3VibWl0fSkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5fZm9ybVN1Ym1pdCA9IGZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9mb3JtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19mb3JtJyk7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwoJy5wb3B1cF9faW5wdXQnKTtcclxuICB9XHJcbiAgXHJcbiAgc2V0TG9hZGluZ1RleHQodGV4dCkge1xyXG4gICAgdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKS50ZXh0Q29udGVudCA9IHRleHQ7XHJcbiAgfVxyXG5cclxuICBfZ2V0SW5wdXRWYWx1ZXMoKSB7XHJcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XHJcbiAgICB0aGlzLl9pbnB1dExpc3QuZm9yRWFjaChpbnB1dCA9PiB7XHJcbiAgICAgIHRoaXMuX2Zvcm1WYWx1ZXNbaW5wdXQubmFtZV0gPSBpbnB1dC52YWx1ZTtcclxuICAgIH0pXHJcbiAgICByZXR1cm4gdGhpcy5fZm9ybVZhbHVlcztcclxuICB9XHJcblxyXG4gIHNldElucHV0VmFsdWVzKGRhdGEpIHtcclxuICAgIHRoaXMuX2lucHV0TGlzdC5mb3JFYWNoKChpbnB1dCkgPT4ge1xyXG4gICAgICBpbnB1dC52YWx1ZSA9IGRhdGFbaW5wdXQubmFtZV07XHJcbiAgICB9KTtcclxuICB9XHJcblxyXG4gIHNldEV2ZW50TGlzdGVuZXJzKCkge1xyXG4gICAgdGhpcy5fZm9ybS5hZGRFdmVudExpc3RlbmVyKCdzdWJtaXQnLCAoZXZ0KSA9PiB7XHJcbiAgICAgIGV2dC5wcmV2ZW50RGVmYXVsdCgpXHJcbiAgICAgIHRoaXMuX2Zvcm1TdWJtaXQodGhpcy5fZ2V0SW5wdXRWYWx1ZXMoKSk7XHJcbiAgICAgIHRoaXMuY2xvc2VQb3B1cCgpO1xyXG4gICAgfSk7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gIH1cclxuXHJcbiAgY2xvc2VQb3B1cCgpIHtcclxuICAgIHN1cGVyLmNsb3NlUG9wdXAoKVxyXG4gICAgdGhpcy5fZm9ybS5yZXNldCgpO1xyXG4gIH1cclxuIH0iLCJcclxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgU2VjdGlvbiB7XHJcbiAgY29uc3RydWN0b3IoeyBkYXRhLCByZW5kZXJlciB9LCBjb250YWluZXJTZWxlY3Rvcikge1xyXG4gICAgdGhpcy5fcmVuZGVyZWRJdGVtcyA9IGRhdGE7XHJcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyO1xyXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBhZGRJdGVtKGVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbnRhaW5lci5wcmVwZW5kKGVsZW1lbnQpO1xyXG4gIH1cclxuXHJcbiAgcmVuZGVySXRlbSgpIHtcclxuICAgIHRoaXMuX3JlbmRlcmVkSXRlbXMuZm9yRWFjaChlbGVtZW50ID0+IHtcclxuICAgICAgdGhpcy5fcmVuZGVyZXIoZWxlbWVudCk7XHJcbiAgICB9KVxyXG4gIH1cclxufSIsIlxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBGb3JtVmFsaWRhdGlvbiB7XHJcbiAgY29uc3RydWN0b3IgKGNvbmZpZywgZm9ybUVsZW1lbnQpIHtcclxuICAgIHRoaXMuX2NvbmZpZyA9IGNvbmZpZztcclxuICAgIHRoaXMuX2Zvcm1FbGVtZW50ID0gZm9ybUVsZW1lbnQ7XHJcbiAgICB0aGlzLl9pbnB1dExpc3QgPSBBcnJheS5mcm9tKHRoaXMuX2Zvcm1FbGVtZW50LnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5fY29uZmlnLmlucHV0U2VsZWN0b3IpKTtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKHRoaXMuX2NvbmZpZy5zdWJtaXRCdXR0b25TZWxlY3Rvcik7XHJcbiAgfVxyXG5cclxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbGVtZW50KSB7XHJcbiAgICBjb25zdCBlcnJvckVsZW1lbnQgPSB0aGlzLl9mb3JtRWxlbWVudC5xdWVyeVNlbGVjdG9yKGAuJHtpbnB1dEVsZW1lbnQuaWR9LWVycm9yYCk7XHJcbiAgICBlcnJvckVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9jb25maWcuZXJyb3JDbGFzcyk7XHJcbiAgICBlcnJvckVsZW1lbnQudGV4dENvbnRlbnQgPSAnJztcclxuICAgIGlucHV0RWxlbWVudC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2NvbmZpZy5pbnB1dEVycm9yQ2xhc3MpO1xyXG4gIH1cclxuXHJcbiAgX3Nob3dJbnB1dEVycm9yKGlucHV0RWxlbWVudCkge1xyXG4gICAgY29uc3QgZXJyb3JFbGVtZW50ID0gdGhpcy5fZm9ybUVsZW1lbnQucXVlcnlTZWxlY3RvcihgLiR7aW5wdXRFbGVtZW50LmlkfS1lcnJvcmApO1xyXG4gICAgZXJyb3JFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmVycm9yQ2xhc3MpO1xyXG4gICAgZXJyb3JFbGVtZW50LnRleHRDb250ZW50ID0gaW5wdXRFbGVtZW50LnZhbGlkYXRpb25NZXNzYWdlO1xyXG4gICAgaW5wdXRFbGVtZW50LmNsYXNzTGlzdC5hZGQodGhpcy5fY29uZmlnLmlucHV0RXJyb3JDbGFzcyk7XHJcbiAgfVxyXG5cclxuICBfY2hlY2tJbnB1dFZhbGlkaXR5KGlucHV0RWxlbWVudCkge1xyXG4gICAgaWYgKGlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCkge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpO1xyXG4gICAgfSBlbHNlIHtcclxuICAgICAgdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbGVtZW50KTtcclxuICAgIH1cclxuICB9XHJcblxyXG4gIF9oYXNJbnZhbGlkSW5wdXQoaW5wdXRMaXN0KSB7XHJcbiAgICByZXR1cm4gaW5wdXRMaXN0LnNvbWUoKGlucHV0RWxlbWVudCkgPT4gIWlucHV0RWxlbWVudC52YWxpZGl0eS52YWxpZCk7XHJcbiAgfVxyXG5cclxuICBfdG9nZ2xlQnV0dG9uU3RhdGUoKSB7XHJcbiAgICBpZiAodGhpcy5faGFzSW52YWxpZElucHV0KHRoaXMuX2lucHV0TGlzdCkpIHtcclxuICAgICAgdGhpcy5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICB9IGVsc2Uge1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmNsYXNzTGlzdC5yZW1vdmUodGhpcy5fY29uZmlnLmluYWN0aXZlQnV0dG9uQ2xhc3MpO1xyXG4gICAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gZmFsc2U7XHJcbiAgICB9XHJcbiAgfVxyXG5cclxuICBfc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICBpbnB1dEVsZW1lbnQuYWRkRXZlbnRMaXN0ZW5lcignaW5wdXQnLCAoKSA9PiB7XHJcbiAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsZW1lbnQpO1xyXG4gICAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgfSk7XHJcbiAgfSk7XHJcbiAgfVxyXG5cclxuICBkZWxldGVFcnJvcnMoKSB7XHJcbiAgICB0aGlzLl90b2dnbGVCdXR0b25TdGF0ZSgpO1xyXG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0RWxlbWVudCkgPT4ge1xyXG4gICAgICB0aGlzLl9oaWRlSW5wdXRFcnJvcihpbnB1dEVsZW1lbnQpXHJcbiAgICB9KVxyXG4gIH1cclxuXHJcbiAgZGlzYWJsZUJ1dHRvbigpIHtcclxuICAgIHRoaXMuX2J1dHRvbkVsZW1lbnQuY2xhc3NMaXN0LmFkZCh0aGlzLl9jb25maWcuaW5hY3RpdmVCdXR0b25DbGFzcyk7XHJcbiAgICB0aGlzLl9idXR0b25FbGVtZW50LmRpc2FibGVkID0gdHJ1ZTtcclxuICB9XHJcblxyXG4gIGVuYWJsZVZhbGlkYXRpb24oKSB7XHJcbiAgICAgIHRoaXMuX3NldEV2ZW50TGlzdGVuZXJzKCk7XHJcbiAgfVxyXG59XHJcblxyXG4vL3RoaXMuX2RlbGV0ZUVycm9ycygpOyIsImNvbnN0IGhhbmRsZVJlc3BvbnNlID0gKHJlcykgPT4ge1xyXG4gIGlmIChyZXMub2spIHtcclxuICAgIHJldHVybiByZXMuanNvbigpO1xyXG4gIH1cclxuICByZXR1cm4gUHJvbWlzZS5yZWplY3QobmV3IEVycm9yKCfQn9GA0L7QuNC30L7RiNC70LAg0L7RiNC40LHQutCwJykpXHJcbn1cclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIEFwaSB7XHJcbiAgY29uc3RydWN0b3IoY29uZmlnKSB7XHJcbiAgICB0aGlzLnVybCA9IGNvbmZpZy51cmw7XHJcbiAgICB0aGlzLmhlYWRlcnMgPSBjb25maWcuaGVhZGVycztcclxuICB9XHJcblxyXG4gIGdldENhcmRzKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkc2AsIHtcclxuICAgICAgbWV0aG9kOiAnR0VUJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICBjcmVhdGVDYXJkKGRhdGEpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BPU1QnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgbGluazogZGF0YS5saW5rXHJcbiAgICAgIH0pXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICBnZXRPd25lckluZm8oKSB7XHJcbiAgICByZXR1cm4gZmV0Y2godGhpcy51cmwgKyBgL3VzZXJzL21lYCwge1xyXG4gICAgICBtZXRob2Q6ICdHRVQnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNcclxuICAgIH0pXHJcbiAgICAudGhlbihoYW5kbGVSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIGVkaXRQcm9maWxlKCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS91c2Vycy9tZWAsIHtcclxuICAgICAgbWV0aG9kOiAnUEFUQ0gnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnMsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICBuYW1lOiBkYXRhLm5hbWUsXHJcbiAgICAgICAgYWJvdXQ6IGRhdGEuYWJvdXRcclxuICAgICAgfSlcclxuICAgIH0pXHJcbiAgICAudGhlbihoYW5kbGVSZXNwb25zZSlcclxuICB9XHJcbiAgXHJcbiAgZWRpdEF2YXRhcihkYXRhKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzLFxyXG4gICAgICBtZXRob2Q6ICdQQVRDSCcsXHJcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHtcclxuICAgICAgICAgIGF2YXRhcjogZGF0YS5hdmF0YXIsIFxyXG4gICAgICB9KVxyXG4gIH0pXHJcbiAgICAudGhlbihoYW5kbGVSZXNwb25zZSlcclxuICB9XHJcblxyXG4gIGRlbGV0ZUNhcmQoX2lkKSB7XHJcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy51cmx9L2NhcmRzLyR7X2lkfWAsIHtcclxuICAgICAgbWV0aG9kOiAnREVMRVRFJyxcclxuICAgICAgaGVhZGVyczogdGhpcy5oZWFkZXJzXHJcbiAgICB9KVxyXG4gICAgLnRoZW4oaGFuZGxlUmVzcG9uc2UpXHJcbiAgfVxyXG5cclxuICBhZGRMaWtlKF9pZCkge1xyXG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMudXJsfS9jYXJkcy8ke19pZH0vbGlrZXNgLCB7XHJcbiAgICAgIG1ldGhvZDogJ1BVVCcsXHJcbiAgICAgIGhlYWRlcnM6IHRoaXMuaGVhZGVyc1xyXG4gICAgfSlcclxuICAgIC50aGVuKGhhbmRsZVJlc3BvbnNlKVxyXG4gIH1cclxuXHJcbiAgZGVsZXRlTGlrZShfaWQpIHtcclxuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLnVybH0vY2FyZHMvJHtfaWR9L2xpa2VzYCwge1xyXG4gICAgICBtZXRob2Q6ICdERUxFVEUnLFxyXG4gICAgICBoZWFkZXJzOiB0aGlzLmhlYWRlcnNcclxuICAgIH0pXHJcbiAgICAudGhlbihoYW5kbGVSZXNwb25zZSlcclxuICB9XHJcbn0iLCJcclxuaW1wb3J0ICcuL2luZGV4LmNzcyc7XHJcbmltcG9ydCB7IHZhbGlkYXRpb25Db25maWcgfSBmcm9tICcuLi91dGlscy9kYXRhLmpzJztcclxuaW1wb3J0IENhcmQgZnJvbSAnLi4vY29tcG9uZW50cy9DYXJkLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEZvcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzJztcclxuaW1wb3J0IFNlY3Rpb24gIGZyb20gJy4uL2NvbXBvbmVudHMvU2VjdGlvbi5qcyc7XHJcbmltcG9ydCBGb3JtVmFsaWRhdGlvbiBmcm9tICcuLi9jb21wb25lbnRzL0Zvcm1WYWxpZGF0aW9uLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gJy4uL2NvbXBvbmVudHMvUG9wdXBXaXRoSW1hZ2UuanMnO1xyXG5pbXBvcnQgVXNlckluZm8gIGZyb20gJy4uL2NvbXBvbmVudHMvVXNlckluZm8uanMnO1xyXG5pbXBvcnQgQXBpIGZyb20gJy4uL2NvbXBvbmVudHMvQXBpLmpzJztcclxuaW1wb3J0IFBvcHVwV2l0aENvbmZpcm0gZnJvbSAnLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhDb25maXJtLmpzJztcclxuXHJcbmNvbnN0IGJ1dHRvbkVkaXRPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2luZm8tZWRpdCcpO1xyXG5jb25zdCBidXR0b25BZGRPcGVuID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2FkZCcpO1xyXG5jb25zdCBpbnB1dE5hbWUgPSBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKCcuZm9ybV9faW5wdXQtbmFtZScpO1xyXG5jb25zdCBpbnB1dEFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0LWRlc2NyaXB0aW9uJyk7XHJcbmNvbnN0IGlucHV0QXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLmZvcm1fX2lucHV0LWF2YXRhcicpO1xyXG5jb25zdCB1c2VyTmFtZSA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19pbmZvLW5hbWUnKTtcclxuY29uc3QgdXNlckFib3V0ID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcignLnByb2ZpbGVfX2luZm8tZGVzY3JpcHRpb24nKTtcclxuY29uc3QgdXNlckF2YXRhciA9IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKTtcclxuXHJcbmxldCB1c2VySWQ7XHJcblxyXG5cclxuY29uc3QgY29uZmlnID0ge1xyXG4gIHVybDogJ2h0dHBzOi8vbWVzdG8ubm9tb3JlcGFydGllcy5jby92MS9jb2hvcnQtNjAnLFxyXG4gIGhlYWRlcnM6IHtcclxuICAgIGF1dGhvcml6YXRpb246ICdhN2QxMzc5NS1iNzUxLTQ5ZGItYWVkOS0zNTM1NGZhN2IzMmYnLFxyXG4gICAgJ0NvbnRlbnQtVHlwZSc6ICdhcHBsaWNhdGlvbi9qc29uJ1xyXG4gIH1cclxufVxyXG5cclxuY29uc3QgYXBpID0gbmV3IEFwaShjb25maWcpO1xyXG5cclxuYXBpLmdldENhcmRzKClcclxuICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XHJcbiAgICAgIGRhdGE6IGRhdGEsXHJcbiAgICAgIHJlbmRlcmVyOiAoaXRlbSkgPT4ge1xyXG4gICAgICAgIGNvbnN0IG5ld0NhcmQgPSBjcmVhdGVDYXJkKGl0ZW0pO1xyXG4gICAgICAgIGNhcmRMaXN0LmFkZEl0ZW0obmV3Q2FyZCk7XHJcbiAgICAgIH1cclxuICAgIH0sICcuZWxlbWVudHMnKTtcclxuXHJcbiAgICBjYXJkTGlzdC5yZW5kZXJJdGVtKGRhdGEpXHJcbiAgfSlcclxuIFxyXG4gIGFwaS5nZXRPd25lckluZm8oKVxyXG4gICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgdXNlckVkaXQuc2V0VXNlckluZm8oZGF0YSk7XHJcbiAgICAgIHVzZXJFZGl0LnNldFVzZXJBdmF0YXIoZGF0YSk7XHJcbiAgICAgIHVzZXJFZGl0LmdldE93bmVySWQoZGF0YS5faWQpXHJcblxyXG4gICAgICB1c2VySWQgPSBkYXRhLl9pZDtcclxuICAgIH0pXHJcblxyXG5jb25zdCB1c2VyRWRpdCA9IG5ldyBVc2VySW5mbyh7bmFtZTogdXNlck5hbWUsIGFib3V0OiB1c2VyQWJvdXQsIGF2YXRhcjogdXNlckF2YXRhcn0pO1xyXG5cclxuY29uc3QgY2FyZExpc3QgPSBuZXcgU2VjdGlvbih7XHJcbiAgZGF0YTogW10sXHJcbiAgcmVuZGVyZXI6IChpdGVtKSA9PiB7XHJcbiAgICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcclxuICAgIGNhcmRMaXN0LmFkZEl0ZW0obmV3Q2FyZCk7XHJcbiAgfVxyXG59LCAnLmVsZW1lbnRzJyk7XHJcblxyXG5mdW5jdGlvbiBjcmVhdGVDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBjYXJkID0gbmV3IENhcmQoaXRlbSwgJy5pdGVtJywgaGFuZGxlT3BlblBvcHVwLCBkZWxldGVDYXJkLCBsaWtlQ2FyZCwgdXNlcklkKTtcclxuICBjb25zdCBjYXJkRWxlbWVudCA9IGNhcmQuZ2VuZXJhdGVDYXJkKCk7XHJcbiAgcmV0dXJuIGNhcmRFbGVtZW50O1xyXG59XHJcblxyXG5mdW5jdGlvbiBhZGRDYXJkKGl0ZW0pIHtcclxuICBjb25zdCBuZXdDYXJkID0gY3JlYXRlQ2FyZChpdGVtKTtcclxuICBjYXJkTGlzdC5hZGRJdGVtKG5ld0NhcmQpO1xyXG59XHJcblxyXG5jb25zdCBwb3B1cEFkZCA9IG5ldyBQb3B1cFdpdGhGb3JtKCcucG9wdXBfYWRkJywge1xyXG4gIGZvcm1TdWJtaXQ6IChkYXRhKSA9PiB7XHJcbiAgICBwb3B1cEFkZC5zZXRMb2FkaW5nVGV4dCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICAgIGFwaS5jcmVhdGVDYXJkKGRhdGEpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgYWRkQ2FyZChkYXRhKVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgfSlcclxuICB9XHJcbn0pO1xyXG5cclxucG9wdXBBZGQuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcclxuXHJcbmJ1dHRvbkFkZE9wZW4uYWRkRXZlbnRMaXN0ZW5lcignY2xpY2snLCAoKSA9PiB7XHJcbiAgZm9ybVZhbGlkYXRvcnNbJ2Zvcm0tYWRkJ10uZGVsZXRlRXJyb3JzKCk7XHJcbiAgZm9ybVZhbGlkYXRvcnNbJ2Zvcm0tYWRkJ10uZGlzYWJsZUJ1dHRvbigpO1xyXG4gIHBvcHVwQWRkLm9wZW5Qb3B1cCgpO1xyXG59KTtcclxuXHJcbmZ1bmN0aW9uIGhhbmRsZU9wZW5Qb3B1cCAobmFtZSwgbGluaykge1xyXG4gIHBvcHVwSW1hZ2Uub3BlblBvcHVwKG5hbWUsIGxpbmspXHJcbn0gXHJcblxyXG5mdW5jdGlvbiBsaWtlQ2FyZCAoY2FyZCkge1xyXG4gIGlmIChjYXJkLmxpa2UpIHtcclxuICAgIGFwaS5kZWxldGVMaWtlKGNhcmQuX2NhcmRJZClcclxuICAgICAgLnRoZW4oKGRhdGEpID0+IHtcclxuICAgICAgICBjYXJkLmNvdW50TGlrZXMoZGF0YS5saWtlcyk7XHJcbiAgICAgICAgY2FyZC50b2dnbGVMaWtlKCk7XHJcbiAgICAgICAgY2FyZC5oYW5kbGVMaWtlKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICB9KVxyXG4gIH0gZWxzZSB7XHJcbiAgICBhcGkuYWRkTGlrZShjYXJkLl9jYXJkSWQpXHJcbiAgICAgIC50aGVuKChkYXRhKSA9PiB7XHJcbiAgICAgICAgY2FyZC5jb3VudExpa2VzKGRhdGEubGlrZXMpO1xyXG4gICAgICAgIGNhcmQudG9nZ2xlTGlrZSgpO1xyXG4gICAgICAgIGNhcmQuaGFuZGxlTGlrZSgpO1xyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgfSlcclxuICB9XHJcbn1cclxuXHJcblxyXG5jb25zdCBwb3B1cENvbmZpcm0gPSBuZXcgUG9wdXBXaXRoQ29uZmlybSgnLnBvcHVwX2FzaycsIHtcclxuICBmb3JtU3VibWl0OiAoY2FyZCkgPT4ge1xyXG4gICAgcG9wdXBDb25maXJtLnNldExvYWRpbmdUZXh0KCfQo9C00LDQu9C10L3QuNC1Li4uJyk7XHJcbiAgICBhcGkuZGVsZXRlQ2FyZChjYXJkLl9jYXJkSWQpXHJcbiAgICAgIC50aGVuKCgpID0+IHtcclxuICAgICAgICBjYXJkLmhhbmRsZVRyYXNoKCk7XHJcbiAgICAgIH0pXHJcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICB9KVxyXG4gIH1cclxufSlcclxuICBcclxuZnVuY3Rpb24gZGVsZXRlQ2FyZChjYXJkKSB7XHJcbiAgcG9wdXBDb25maXJtLmhhbmRsZUNhcmQoY2FyZCk7XHJcbiAgcG9wdXBDb25maXJtLm9wZW5Qb3B1cCgpO1xyXG59XHJcblxyXG4gcG9wdXBDb25maXJtLnNldEV2ZW50TGlzdGVuZXJzKCk7ICAgIFxyXG5cclxuXHJcblxyXG5jb25zdCBwb3B1cEVkaXQgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2VkaXQnLCB7XHJcbiAgICAgICAgZm9ybVN1Ym1pdDogKGRhdGEpID0+IHtcclxuICAgICAgICAgIHBvcHVwRWRpdC5zZXRMb2FkaW5nVGV4dCgn0KHQvtGF0YDQsNC90LXQvdC40LUuLi4nKTtcclxuICAgICAgICAgIGFwaS5lZGl0UHJvZmlsZShkYXRhKVxyXG4gICAgICAgICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgICAgICAgIHVzZXJFZGl0LnNldFVzZXJJbmZvKGRhdGEsIHtuYW1lOiBpbnB1dE5hbWUsIGFib3V0OiBpbnB1dEFib3V0fSk7XHJcbiAgICAgICAgICAgIH0pXHJcbiAgICAgICAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XHJcbiAgICAgICAgICAgICAgY29uc29sZS5sb2coZXJyKVxyXG4gICAgICAgICAgICB9KVxyXG4gICAgICAgICAgXHJcbiAgICAgICAgfX0pO1xyXG5cclxuICAgICAgICBidXR0b25FZGl0T3Blbi5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgICAgIHBvcHVwRWRpdC5zZXRJbnB1dFZhbHVlcyh1c2VyRWRpdC5nZXRVc2VySW5mbygpKTtcclxuICAgICAgICAgIGZvcm1WYWxpZGF0b3JzWydmb3JtLWVkaXQnXS5kZWxldGVFcnJvcnMoKTtcclxuICAgICAgICAgIGZvcm1WYWxpZGF0b3JzWydmb3JtLWVkaXQnXS5kaXNhYmxlQnV0dG9uKCk7XHJcbiAgICAgICAgICBwb3B1cEVkaXQub3BlblBvcHVwKCk7XHJcbiAgICAgICAgfSk7XHJcblxyXG4gICAgICAgIHBvcHVwRWRpdC5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgXHJcblxyXG5jb25zdCBwb3B1cEltYWdlID0gbmV3IFBvcHVwV2l0aEltYWdlKCcucG9wdXBfaW1nJyk7XHJcblxyXG5cclxuY29uc3QgcG9wdXBBdmF0YXIgPSBuZXcgUG9wdXBXaXRoRm9ybSgnLnBvcHVwX2F2YXRhcicsIHtcclxuICBmb3JtU3VibWl0OiAoZGF0YSkgPT4ge1xyXG4gICAgcG9wdXBBdmF0YXIuc2V0TG9hZGluZ1RleHQoJ9Ch0L7RhdGA0LDQvdC10L3QuNC1Li4uJyk7XHJcbiAgICBhcGkuZWRpdEF2YXRhcihkYXRhKVxyXG4gICAgICAudGhlbigoZGF0YSkgPT4ge1xyXG4gICAgICAgIHVzZXJFZGl0LnNldFVzZXJBdmF0YXIoZGF0YSwge2F2YXRhcjogaW5wdXRBdmF0YXJ9KVxyXG4gICAgICB9KVxyXG4gICAgICAuY2F0Y2goKGVycikgPT4ge1xyXG4gICAgICAgIGNvbnNvbGUubG9nKGVycilcclxuICAgICAgfSlcclxuICB9XHJcbn0pXHJcbnBvcHVwQXZhdGFyLnNldEV2ZW50TGlzdGVuZXJzKClcclxuXHJcbmRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoJy5wcm9maWxlX19hdmF0YXInKS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICBwb3B1cEF2YXRhci5vcGVuUG9wdXAoKTtcclxufSlcclxuXHJcblxyXG5cclxucG9wdXBJbWFnZS5zZXRFdmVudExpc3RlbmVycygpO1xyXG5cclxuXHJcbmNvbnN0IGZvcm1WYWxpZGF0b3JzID0ge307XHJcblxyXG5jb25zdCBlbmFibGVWYWxpZGF0aW9uID0gKHZhbGlkYXRpb25Db25maWcpID0+IHtcclxuICBjb25zdCBmb3JtTGlzdCA9IEFycmF5LmZyb20oZG9jdW1lbnQucXVlcnlTZWxlY3RvckFsbCh2YWxpZGF0aW9uQ29uZmlnLmZvcm1TZWxlY3RvcikpO1xyXG4gIGZvcm1MaXN0LmZvckVhY2goKGZvcm1FbGVtZW50KSA9PiB7XHJcbiAgICBjb25zdCB2YWxpZGF0b3IgPSBuZXcgRm9ybVZhbGlkYXRpb24odmFsaWRhdGlvbkNvbmZpZywgZm9ybUVsZW1lbnQpO1xyXG4gICAgY29uc3QgZm9ybU5hbWUgPSBmb3JtRWxlbWVudC5nZXRBdHRyaWJ1dGUoJ25hbWUnKTtcclxuICAgIGZvcm1WYWxpZGF0b3JzW2Zvcm1OYW1lXSA9IHZhbGlkYXRvcjtcclxuICAgIHZhbGlkYXRvci5lbmFibGVWYWxpZGF0aW9uKCk7XHJcbiAgfSlcclxufVxyXG5cclxuZW5hYmxlVmFsaWRhdGlvbih2YWxpZGF0aW9uQ29uZmlnKTtcclxuIiwiXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFVzZXJJbmZvIHtcclxuICBjb25zdHJ1Y3Rvcih7bmFtZSwgYWJvdXQsIGF2YXRhciwgX2lkfSkge1xyXG4gICAgdGhpcy5fbmFtZSA9IG5hbWU7XHJcbiAgICB0aGlzLl9hYm91dCA9IGFib3V0O1xyXG4gICAgdGhpcy5fYXZhdGFyID0gYXZhdGFyO1xyXG4gICAgdGhpcy5faWQgPSBfaWQ7XHJcbiAgfVxyXG5cclxuICBnZXRVc2VySW5mbygpIHtcclxuICAgcmV0dXJuIHtcclxuICAgIG5hbWU6IHRoaXMuX25hbWUudGV4dENvbnRlbnQsXHJcbiAgICBhYm91dDogdGhpcy5fYWJvdXQudGV4dENvbnRlbnRcclxuICB9XHJcbiAgfVxyXG5cclxuICBzZXRVc2VySW5mbyhkYXRhKSB7XHJcbiAgICB0aGlzLl9uYW1lLnRleHRDb250ZW50ID0gZGF0YS5uYW1lO1xyXG4gICAgdGhpcy5fYWJvdXQudGV4dENvbnRlbnQgPSBkYXRhLmFib3V0O1xyXG4gIH1cclxuXHJcbiAgc2V0VXNlckF2YXRhcihkYXRhKSB7XHJcbiAgICB0aGlzLl9hdmF0YXIuc3JjID0gZGF0YS5hdmF0YXI7XHJcbiAgfVxyXG5cclxuICBnZXRPd25lcklkKCkge1xyXG4gICAgcmV0dXJuIHRoaXMuX2lkO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSBcIi4vUG9wdXAuanNcIjtcclxuXHJcbmV4cG9ydCBkZWZhdWx0IGNsYXNzIFBvcHVwV2l0aENvbmZpcm0gZXh0ZW5kcyBQb3B1cCB7XHJcbiAgY29uc3RydWN0b3IocG9wdXAsIHtmb3JtU3VibWl0fSkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5fZm9ybVN1Ym1pdCA9IGZvcm1TdWJtaXQ7XHJcbiAgICB0aGlzLl9idXR0b25Db25maXJtID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLnBvcHVwX19idXR0b24nKTtcclxuICB9XHJcblxyXG4gIHNldExvYWRpbmdUZXh0KHRleHQpIHtcclxuICAgIHRoaXMuX2J1dHRvbkNvbmZpcm0udGV4dENvbnRlbnQgPSB0ZXh0O1xyXG4gIH1cclxuXHJcbiAgc2V0RXZlbnRMaXN0ZW5lcnMoKSB7XHJcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xyXG4gICAgdGhpcy5fYnV0dG9uQ29uZmlybS5hZGRFdmVudExpc3RlbmVyKCdjbGljaycsICgpID0+IHtcclxuICAgICAgdGhpcy5fZm9ybVN1Ym1pdCh0aGlzLl9jYXJkKTtcclxuICAgICAgdGhpcy5jbG9zZVBvcHVwKClcclxuICAgIH0pXHJcbiAgfVxyXG5cclxuICBoYW5kbGVDYXJkKGNhcmQpIHtcclxuICAgIHRoaXMuX2NhcmQgPSBjYXJkO1xyXG4gIH1cclxufSIsImltcG9ydCB7IFBvcHVwIH0gZnJvbSAnLi9Qb3B1cC5qcyc7XHJcblxyXG5leHBvcnQgZGVmYXVsdCBjbGFzcyBQb3B1cFdpdGhJbWFnZSBleHRlbmRzIFBvcHVwIHtcclxuICBjb25zdHJ1Y3Rvcihwb3B1cCkge1xyXG4gICAgc3VwZXIocG9wdXApO1xyXG4gICAgdGhpcy5faW1nRnVsbCA9IHRoaXMuX3BvcHVwLnF1ZXJ5U2VsZWN0b3IoJy5pbWdfX2Z1bGwnKTtcclxuICAgIHRoaXMuX2ltZ1RpdGxlID0gdGhpcy5fcG9wdXAucXVlcnlTZWxlY3RvcignLmltZ19fdGl0bGUnKTtcclxuICB9XHJcblxyXG4gIG9wZW5Qb3B1cChuYW1lLCBsaW5rKSB7XHJcbiAgICBzdXBlci5vcGVuUG9wdXAoKTtcclxuICAgIHRoaXMuX2ltZ0Z1bGwuc3JjID0gbGluaztcclxuICAgIHRoaXMuX2ltZ0Z1bGwuYWx0ID0gbmFtZTtcclxuICAgIHRoaXMuX2ltZ1RpdGxlLnRleHRDb250ZW50ID0gbmFtZTtcclxuICB9XHJcbn0iLCJcclxuZXhwb3J0IGNvbnN0IGVsZW1lbnRzQXJyYXkgPSBbXHJcbiAge1xyXG4gICAgbmFtZTogJ9CQ0YDRhdGL0LcnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9hcmtoeXouanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9Cn0LXQu9GP0LHQuNC90YHQutCw0Y8g0L7QsdC70LDRgdGC0YwnLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9jaGVseWFiaW5zay1vYmxhc3QuanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9CY0LLQsNC90L7QstC+JyxcclxuICAgIGxpbms6ICdodHRwczovL3BpY3R1cmVzLnMzLnlhbmRleC5uZXQvZnJvbnRlbmQtZGV2ZWxvcGVyL2NhcmRzLWNvbXByZXNzZWQvaXZhbm92by5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0JrQsNC80YfQsNGC0LrQsCcsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2thbWNoYXRrYS5qcGcnXHJcbiAgfSxcclxuICB7XHJcbiAgICBuYW1lOiAn0KXQvtC70LzQvtCz0L7RgNGB0LrQuNC5INGA0LDQudC+0L0nLFxyXG4gICAgbGluazogJ2h0dHBzOi8vcGljdHVyZXMuczMueWFuZGV4Lm5ldC9mcm9udGVuZC1kZXZlbG9wZXIvY2FyZHMtY29tcHJlc3NlZC9raG9sbW9nb3Jza3ktcmF5b24uanBnJ1xyXG4gIH0sXHJcbiAge1xyXG4gICAgbmFtZTogJ9CR0LDQudC60LDQuycsXHJcbiAgICBsaW5rOiAnaHR0cHM6Ly9waWN0dXJlcy5zMy55YW5kZXgubmV0L2Zyb250ZW5kLWRldmVsb3Blci9jYXJkcy1jb21wcmVzc2VkL2JhaWthbC5qcGcnXHJcbiAgfVxyXG5dO1xyXG5cclxuZXhwb3J0IGNvbnN0IHZhbGlkYXRpb25Db25maWcgPSB7XHJcbiAgZm9ybVNlbGVjdG9yOiAnLnBvcHVwX19mb3JtJyxcclxuICBpbnB1dFNlbGVjdG9yOiAnLnBvcHVwX19pbnB1dCcsXHJcbiAgc3VibWl0QnV0dG9uU2VsZWN0b3I6ICcucG9wdXBfX2J1dHRvbicsXHJcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogJ3BvcHVwX19idXR0b25fZGlzYWJsZWQnLFxyXG4gIGlucHV0RXJyb3JDbGFzczogJ3BvcHVwX19pbnB1dF90eXBlX2Vycm9yJyxcclxuICBlcnJvckNsYXNzOiAncG9wdXBfX2lucHV0LWVycm9yX3Zpc2libGUnXHJcbn07Il0sIm5hbWVzIjpbIkNhcmQiLCJjb25zdHJ1Y3RvciIsImRhdGEiLCJ0ZW1wbGF0ZVNlbGVjdG9yIiwiaGFuZGxlT3BlblBvcHVwIiwiZGVsZXRlQ2FyZCIsImxpa2VDYXJkIiwidXNlcklkIiwidGhpcyIsIl9kYXRhIiwiX25hbWUiLCJuYW1lIiwiX2xpbmsiLCJsaW5rIiwiX2NhcmRJZCIsIl9pZCIsIl9vd25lcklkIiwib3duZXIiLCJfdXNlcklkIiwiX2xpa2VzIiwibGlrZXMiLCJfdGVtcGxhdGVTZWxlY3RvciIsIl9oYW5kbGVPcGVuUG9wdXAiLCJfZGVsZXRlQ2FyZCIsIl9saWtlQ2FyZCIsIl9saWtlIiwiX2VsZW1lbnQiLCJfZ2V0VGVtcGxhdGUiLCJfY2FyZEltYWdlIiwicXVlcnlTZWxlY3RvciIsIl9jYXJkVGl0bGUiLCJfY2FyZExpa2UiLCJfY2FyZFJlbW92ZSIsIl9saWtlc051bWJlciIsImRvY3VtZW50IiwiY29udGVudCIsImNsb25lTm9kZSIsImdlbmVyYXRlQ2FyZCIsIl9zZXRFdmVudExpc3RlbmVycyIsInNyYyIsImFsdCIsInRleHRDb250ZW50IiwibGVuZ3RoIiwicmVtb3ZlIiwibGlrZSIsImNsYXNzTGlzdCIsImFkZCIsImFkZEV2ZW50TGlzdGVuZXIiLCJ0b2dnbGVMaWtlIiwiY291bnRMaWtlcyIsIm5ld0xpa2UiLCJoYW5kbGVMaWtlIiwidG9nZ2xlIiwiaGFuZGxlVHJhc2giLCJQb3B1cCIsInBvcHVwIiwiX3BvcHVwIiwiX2Nsb3NlQnV0dG9uIiwib3BlblBvcHVwIiwiX2hhbmRsZUVzY0Nsb3NlIiwiY2xvc2VQb3B1cCIsInJlbW92ZUV2ZW50TGlzdGVuZXIiLCJldnQiLCJrZXkiLCJzZXRFdmVudExpc3RlbmVycyIsImN1cnJlbnRUYXJnZXQiLCJ0YXJnZXQiLCJQb3B1cFdpdGhGb3JtIiwiZm9ybVN1Ym1pdCIsInN1cGVyIiwiX2Zvcm1TdWJtaXQiLCJfZm9ybSIsIl9pbnB1dExpc3QiLCJxdWVyeVNlbGVjdG9yQWxsIiwic2V0TG9hZGluZ1RleHQiLCJ0ZXh0IiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm1WYWx1ZXMiLCJmb3JFYWNoIiwiaW5wdXQiLCJ2YWx1ZSIsInNldElucHV0VmFsdWVzIiwicHJldmVudERlZmF1bHQiLCJyZXNldCIsIlNlY3Rpb24iLCJyZW5kZXJlciIsImNvbnRhaW5lclNlbGVjdG9yIiwiX3JlbmRlcmVkSXRlbXMiLCJfcmVuZGVyZXIiLCJfY29udGFpbmVyIiwiYWRkSXRlbSIsImVsZW1lbnQiLCJwcmVwZW5kIiwicmVuZGVySXRlbSIsIkZvcm1WYWxpZGF0aW9uIiwiY29uZmlnIiwiZm9ybUVsZW1lbnQiLCJfY29uZmlnIiwiX2Zvcm1FbGVtZW50IiwiQXJyYXkiLCJmcm9tIiwiaW5wdXRTZWxlY3RvciIsIl9idXR0b25FbGVtZW50Iiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaGlkZUlucHV0RXJyb3IiLCJpbnB1dEVsZW1lbnQiLCJlcnJvckVsZW1lbnQiLCJpZCIsImVycm9yQ2xhc3MiLCJpbnB1dEVycm9yQ2xhc3MiLCJfc2hvd0lucHV0RXJyb3IiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsImlucHV0TGlzdCIsInNvbWUiLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJkaXNhYmxlQnV0dG9uIiwiaW5hY3RpdmVCdXR0b25DbGFzcyIsImRpc2FibGVkIiwiZGVsZXRlRXJyb3JzIiwiZW5hYmxlVmFsaWRhdGlvbiIsImhhbmRsZVJlc3BvbnNlIiwicmVzIiwib2siLCJqc29uIiwiUHJvbWlzZSIsInJlamVjdCIsIkVycm9yIiwiYnV0dG9uRWRpdE9wZW4iLCJidXR0b25BZGRPcGVuIiwiaW5wdXROYW1lIiwiaW5wdXRBYm91dCIsImlucHV0QXZhdGFyIiwidXNlck5hbWUiLCJ1c2VyQWJvdXQiLCJ1c2VyQXZhdGFyIiwiYXBpIiwidXJsIiwiaGVhZGVycyIsImdldENhcmRzIiwiZmV0Y2giLCJtZXRob2QiLCJ0aGVuIiwiY3JlYXRlQ2FyZCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiZ2V0T3duZXJJbmZvIiwiZWRpdFByb2ZpbGUiLCJhYm91dCIsImVkaXRBdmF0YXIiLCJhdmF0YXIiLCJhZGRMaWtlIiwiZGVsZXRlTGlrZSIsImF1dGhvcml6YXRpb24iLCJjYXJkTGlzdCIsIml0ZW0iLCJuZXdDYXJkIiwidXNlckVkaXQiLCJzZXRVc2VySW5mbyIsInNldFVzZXJBdmF0YXIiLCJnZXRPd25lcklkIiwiX2Fib3V0IiwiX2F2YXRhciIsImdldFVzZXJJbmZvIiwicG9wdXBBZGQiLCJhZGRDYXJkIiwiY2F0Y2giLCJlcnIiLCJjb25zb2xlIiwibG9nIiwicG9wdXBJbWFnZSIsImNhcmQiLCJmb3JtVmFsaWRhdG9ycyIsInBvcHVwQ29uZmlybSIsIl9idXR0b25Db25maXJtIiwiX2NhcmQiLCJoYW5kbGVDYXJkIiwicG9wdXBFZGl0IiwiX2ltZ0Z1bGwiLCJfaW1nVGl0bGUiLCJwb3B1cEF2YXRhciIsInZhbGlkYXRpb25Db25maWciLCJmb3JtU2VsZWN0b3IiLCJ2YWxpZGF0b3IiLCJmb3JtTmFtZSIsImdldEF0dHJpYnV0ZSJdLCJzb3VyY2VSb290IjoiIn0=